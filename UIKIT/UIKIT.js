define("DS/UIKIT/UIKIT",[],function(){});define("DS/UIKIT/Toggler",["UWA/Core","UWA/Controls/Abstract"],function(c,d){function b(f,e){var g=f.matchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector;return g.call(f,e)}var a=d.extend({defaultOptions:{activeClass:"active",ignored:["disabled"],selected:0,type:"radio"},init:function(){var e=!arguments[0].nodeType?arguments[0]:{};if(!e.container&&arguments[0].nodeType===1){e.container=arguments[0]}if(e.ignored&&e.ignored.indexOf("disabled")===-1){e.ignored.push("disabled")}if(e.bind&&e.bind.nodeType!==1){delete e.bind}this._parent(e);this.elements.container=this.options.container;delete this.options.container;delete e.container;this.handleEvents();this.options.type==="radio"&&this.toggle(this.options.selected)},handleEvents:function(){var f=this,g,e;this.events={};this.events.container={click:function(h){if(h.target.parentElement!==f.elements.container){e=true;g=h.target;while((g=g.parentElement)&&e){if(g.parentElement===f.elements.container){e=false;f.toggle(g)}}}else{f.toggle(h.target)}}};this.elements.container.addEventListener("click",this.events.container.click,false)},toggle:(function(){function e(h,f,g){if(this.options.type==="radio"){Array.prototype.forEach.call(h,function(i){i.classList[i===f?"add":"remove"](this.options.activeClass)},this)}else{if(g){f.classList.add(this.options.activeClass)}else{if(g===false){f.classList.remove(this.options.activeClass)}else{f.classList.toggle(this.options.activeClass)}}}}return function(){var i=this.elements.container.children,g=typeof arguments[0]==="number"?i[arguments[0]]:arguments[0],h=arguments[1],l,f,k,j;if(g.nodeType!==1){return}if(g.classList.contains(this.options.activeClass)&&this.options.type==="radio"){return}l=this.options.ignored.some(function(m){return g.classList.contains(m)||b(g,m)});if(l){return}f=Array.prototype.indexOf.call(i,g);e.call(this,i,g,h);this.activeElements=Array.prototype.filter.call(i,function(m){return m.classList.contains(this.options.activeClass)},this);if(this.options.bind){k=this.options.bind.children;j=k[f];if(j&&j.nodeType===1){e.call(this,k,j,h)}}this.dispatchEvent("onToggle",[g,f,g.classList.contains(this.options.activeClass)])}}()),getActiveElements:function(){return this.options.type==="radio"?this.activeElements[0]:this.activeElements},destroy:function(){this.elements.container.removeEventListener("click",this.events.container.click,false);if(this.activeElements instanceof Array){this.activeElements.length=0}else{delete this.activeElements}delete this.elements.container}});return a});define("DS/UIKIT/Dropdown",["UWA/Core","UWA/Element","UWA/Event","UWA/Controls/Abstract"],function(c,a,h,e){function d(m,l,k,j){if(l.addEventListener){l.addEventListener(m,k,j)}else{if(l.attachEvent){l.attachEvent("on"+m,k,j)}}}function b(k,l,j){Object.keys(k).forEach(function(m){d(m,l,k[m],j)})}function f(m,l,k,j){if(l.removeEventListener){l.removeEventListener(m,k,j)}else{if(l.detachEvent){l.detachEvent("on"+m,k,j)}}}function i(k,l,j){Object.keys(k).forEach(function(m){f(m,l,k[m],j)})}var g={name:"dropdown",defaultOptions:{className:"",bound:true,position:"bottom left",closeOnClick:true,removeOnHide:true,contextual:false,offset:{x:0,y:0},attributes:{}},isVisible:false,enabled:true,init:function(j){this._parent(j);j=this.options;this.events={};this.events.document={click:function(k){var l=h.getElement(k);if(!l.isInjected(this.elements.container)&&l!==this.elements.container){if(this.options.contextual||!this.options.target.contains(l)){this.hide();this.dispatchEvent("onClickOutside",[k])}}}.bind(this)};j.target=c.is(j.target,"element")?c.extendElement(j.target):j.contextual?c.extendElement(document):null;j.bound=(j.target&&j.bound)||j.contextual;j.closeOnClick=j.contextual?true:j.closeOnClick;j.removeOnHide=j.contextual?true:j.removeOnHide;this.buildSkeleton()},getBody:function(){return this.elements.container},setBody:function(j){this.elements.container&&this.elements.container.addContent(j);return this},buildSkeleton:function(){var k=this.elements,j=this.options;if(k.container){return}k.container=c.createElement("div",{"class":this.name+" "+j.className,html:j.body});Object.keys(this.options.attributes).forEach(function(l){k.container.setAttribute(l,j.attributes[l])});this.handleEvents()},handleEvents:function(){var k=this.elements,j=this.options;k.container.addEvents({click:this.dispatchEvent.bind(this,"onClick"),mouseleave:this.dispatchEvent.bind(this,"onMouseLeave")});if(j.contextual){this.events.target={mousedown:function(l){var n=h.getElement(l),m=c.Event.whichButton(l)===2;if(!n.isInjected(this.elements.container)&&n!==this.elements.container&&m&&this.isVisible){this.updatePosition(l)}}.bind(this),contextmenu:function(l){this.show(false,l);h.stop(l)}.bind(this)};b(this.events.target,j.target,true)}else{if(j.bound){this.events.target={click:this.toggle.bind(this)};b(this.events.target,j.target,true)}}},onClick:function(){var j=arguments.length>2&&!!arguments[2];!j&&this.options.closeOnClick&&this.hide()},updatePosition:function(k){var s=this.options,j=this.elements,p=s.target,l,r,n,q,o;this._position={};function m(t){return c.is(t,"function")?t():t}if(!this.isVisible){return}if(s.target&&!s.altPosition){l=j.container.offsetWidth;r=j.container.offsetHeight;if(s.renderTo){this._position.offsets=p.getPosition(s.renderTo)}else{if(s.contextual&&k){this._position.offsets={x:k.pageX,y:k.pageY}}else{this._position.offsets=p.getOffsets()}}this._position.viewportWidth=document.documentElement.clientWidth||window.innerWidth;this._position.viewportHeight=document.documentElement.clientHeight||window.innerHeight;this._position.scrollTop=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;if(s.contextual){p={offsetWidth:0,offsetHeight:0}}else{this._position.offsets.y+=p.offsetHeight}n=this._position.offsets.x;q=this._position.offsets.y;if(s.position.indexOf("center")>-1&&n-l+p.offsetWidth>0){n=n+(p.offsetWidth-l)/2}if(n+l>this._position.viewportWidth||(s.position.indexOf("right")>-1&&n-l+p.offsetWidth>0)){n=n-l+p.offsetWidth}if(q+r>this._position.viewportHeight+this._position.scrollTop||(s.position.indexOf("top")>-1&&q-r-p.offsetHeight>0)){if(q-r-p.offsetHeight>0||s.position.indexOf("top")>-1){j.container.addClassName("dropup");q=q-r-p.offsetHeight}}else{j.container.removeClassName("dropup")}j.container.setStyles({left:n+s.offset.x,top:q+s.offset.y})}else{if(s.altPosition){o=m(s.altPosition);j.container.setStyles({left:o.x+s.offset.x,top:o.y+s.offset.y})}}},toggle:function(){return this[this.isVisible?"hide":"show"]()},show:function(j,l){var m=this.elements,k=this.options;if(!m.container||this.isVisible||!this.enabled){return this}this.isVisible=true;if(!m.container.isInjected()){this.inject(k.renderTo?k.renderTo:document.body)}m.container.setStyle("display","");if(this.hasEvent("onClickOutside")||k.bound){d("click",document,this.events.document.click,true)}this.updatePosition(l);!j&&this.dispatchEvent("onShow");return this},hide:function(j){var l=this.elements,k=this.options;if(!l.container||!this.isVisible||!this.enabled){return}this.isVisible=false;if(l.container.isInjected()){if(k.removeOnHide){l.container.remove()}f("click",document,this.events.document.click,true)}l.container.setStyle("display","none");!j&&this.dispatchEvent("onHide");return this},enable:function(){if(!this.enabled){this.enabled=true}return this},disable:function(){if(this.enabled){this.hide();this.enabled=false}return this},destroy:function(){this.hide(true);this.options.bound&&i(this.events.target,this.options.target,true);this._parent()}};return e.extend(g)});define("DS/UIKIT/Spinner",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","UWA/Controls/Abstract"],function(g,c,b,e,f){function a(m){var k,h,j;if(m){m=m.split(" ");for(k=0,h=m.length;k<h;k++){j=m[k].match(/(spinner-)?(small|large)$/);if(j&&!j[1]){if(j[0]==="small"){m[k]="spinner-sm"}else{if(j[0]==="large"){m[k]="spinner-lg"}}}}m=m.join(" ")}return m}var d={name:"spinner",defaultOptions:{className:"",hwaccel:true,visible:false,spin:true,animate:true},isVisible:false,init:function(h){h=h||{};this._parent(h);this.buildSkeleton();if(g.is(h.renderTo,"element")){this.inject(h.renderTo);delete this.options.renderTo}},onPostInject:function(){if(this.options.visible||this.isVisible){this.isVisible=false;this.show()}},buildSkeleton:function(){var h=this.options;this.elements.container=g.createElement("div",{"class":this.name+" "+a(h.className),html:[g.createElement("span",{"class":"spinner-bar"}),g.createElement("span",{"class":"spinner-bar spinner-bar1"}),g.createElement("span",{"class":"spinner-bar spinner-bar2"}),g.createElement("span",{"class":"spinner-bar spinner-bar3"})]});if(h.spin){this.spin()}if(h.animate){this.elements.container.addClassName("fade")}if(h.duration){h.visible=true}if(h.hwaccel){this.elements.container.setStyle("transform","translate3d(0,0,0)")}this.elements.container.setStyles({top:h.top,left:h.left})},spin:function(){var h=this.elements;if(!h.container.hasClassName("spinning")){h.container.addClassName("spinning");this.dispatchEvent("onSpin")}return this},stop:function(){var h=this.elements;if(h.container.hasClassName("spinning")){h.container.removeClassName("spinning");this.dispatchEvent("onSpinStop")}return this},toggle:function(){return this[this.isVisible?"hide":"show"]()},show:function(){var i=this,h=this.options,j=this.elements;if(!j){return}if(!this.isVisible){if(h.duration){this.timer=setTimeout(function(){i.stop();i.hide()},h.duration)}this.isVisible=true;j.container.setStyle("display","inline-block");if(h.animate){setTimeout(function(){if(i.elements&&i.isVisible){i.elements.container.addClassName("in");i.dispatchEvent("onShow")}},50)}else{i.dispatchEvent("onShow")}}return this},hide:function(){var j=this,i=this.options,k=this.elements;function h(){if(!j.isVisible){k&&k.container&&k.container.setStyle("display","");j.dispatchEvent("onHide")}if(j.timer){j.destroy()}}if(!k){return}if(this.isVisible){this.isVisible=false;if(i.animate){if(this.timer){clearTimeout(this.timer)}k.container.removeClassName("in");setTimeout(function(){h()},300)}else{h()}}return this},destroy:function(){if(this.options){this.options.animate=false}this.hide();this._parent();this.elements=null}};return f.extend(d)});define("DS/UIKIT/Image",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Events"],function(f,d,c,b){function a(k){var j,g,h;if(!k){return}k=k.split(" ");for(j=0,g=k.length;j<g;j++){h=k[j].match(/(img-)?(rounded|circle|thumbnail|responsive)$/);if(h&&!h[1]){k[j]="img-"+k[j]}}return k.join(" ")}var e={defaultOptions:{className:"img",url:null,width:"100%",height:"100%"},init:function(g){this.setOptions(g);this.images=[];this.imageLoaded=0},load:function(){var j=this,i=this.options,g=a(i.className);function h(k){return function(){this.removeEvent("error");this.removeEvent("load");j.dispatchEvent(k,this);if(!--j.imageLoaded){j.handleCompletion()}}}[].slice.call(arguments).forEach(function(l){if(f.is(l,"string")){var k=f.createElement("img",{width:i.width,height:i.height,alt:l,"class":g});j.images.push(k);j.imageLoaded++}});this.images.forEach(function(k){k.src=k.alt;k.addEvents({error:h("onError"),load:h("onLoad")})})},handleCompletion:function(){this.dispatchEvent("onComplete",[this.images]);this.images=[];this.imageLoaded=0}};return d.extend(c,b,e)});define("DS/UIKIT/Input",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","UWA/Controls/Abstract"],function(f,b,a,d,e){d.Features.inputPlaceholder=("placeholder" in document.createElement("input"));var c={defaultOptions:{className:"",attributes:{},value:"",name:"",disabled:false,commonClassName:"form-control"},nativeInput:true,init:function(g){if(this.constructor===c){throw new Error("Use a subclass of Input")}this._parent(g);this.events=null;this.getContent();if(f.owns(g,"name")){this.setName(g.name)}if(f.owns(g,"value")){this.setValue(g.value)}if(this.elements.container&&d.Platform.ios){this.elements.container.classList.add("prevent-ios-zoom-in")}},getContent:function(){if(!this.elements.container){this.buildSkeleton();this.syncInput()}return this.elements.container},buildSkeleton:function(){var h=this.elements,g=this.options;h.input=this.buildInput().set(g.attributes);if(g.id){h.input.id=g.id}if(!this.nativeInput){h.content=f.createElement("div",{"class":this.getClassNames("-content")});h.input.addClassName("hidden-input");h.container=f.createElement("div",{html:[h.input,h.content]})}else{h.content=h.container=h.input}h.container.addClassName(this.getClassNames());this.setDisabled(g.disabled)},buildInput:function(){return f.createElement("input",{type:"text"})},syncInput:function(){if(!this.nativeInput&&this.elements.content){this.elements.content.setText(this.getValue())}},handleEvents:function(){var h=this,i=this.elements;function g(j){return h.dispatchEvent.bind(h,j)}if(!this.events){this.events={container:{click:g("onClick"),mousedown:g("onMouseDown")},input:{change:g("onChange"),keydown:g("onKeyDown"),focus:this.setFocus.bind(this,true),blur:this.setFocus.bind(this,false)}};if(d.Engine.firefox){this.events.input.compositionend=function(j){this.dispatchEvent("onChange",[j])}.bind(this)}}if(this.isDisabled()){i.container.removeEvents(this.events.container);i.input.removeEvents(this.events.input)}else{i.container.addEvents(this.events.container);i.input.addEvents(this.events.input)}},setFocus:function(g){var h=this.elements;if(!this.nativeInput&&f.Utils.Client.Features.touchEvents){return this}if(typeof g==="undefined"){g=true}if(!this.nativeInput){h.container.toggleClassName("focus",g)}h.input[g?"focus":"blur"]();return this},focus:function(){return this.setFocus(true)},blur:function(){return this.setFocus(false)},setDisabled:function(g){var h=this.elements;if(typeof g==="undefined"){g=true}h.input.disabled=g;h.container.toggleClassName("disabled",g);this.handleEvents();return this},isDisabled:function(){return !!this.elements.input.disabled},enable:function(){return this.setDisabled(false)},disable:function(){return this.setDisabled()},setName:function(g){if(f.is(g,"string")){this.elements.input.name=g}return this},getName:function(){return this.elements.input.name},setId:function(g){if(f.is(g,"string")){this.elements.input.id=g}return this},getId:function(){return this.elements.input.id},setValue:function(i){var h=this.elements.input,g=h.getTagName();if(g==="input"||g==="textarea"){h.value=i}else{h.setText(i)}this.syncInput();return this},getValue:function(){var h=this.elements.input,g=h.getTagName();return g==="input"||g==="textarea"?h.value:h.getText()},onMouseDown:function(g){if(!this.nativeInput&&!this.isDisabled()){a.preventDefault(g);this.focus()}},onChange:function(g){this.syncInput();this.bubbleOnChange(g)},dispatchOnChange:function(){a.dispatchEvent(this.elements.input,"change")},bubbleOnChange:(function(){var h;function g(){if(h===undefined){h=false;var i=document.createElement("div"),j=document.createElement("input");j.type="text";i.appendChild(j);i.style.display="none";document.body.appendChild(i);b.addEvent.call(i,"change",function(k){h=true;a.stop(k)});a.dispatchEvent(j,"change");b.remove.call(i);b.removeEvents.call(i)}return h}return function(k){var j,i=this.elements.input.parentNode;if(!g()){while(i&&i.nodeType===1&&(k.event||k).returnValue!==false){j=i._events&&i._events.change;if(j){j.handleEvent(k)}i=i.parentNode}}}}())};return e.extend(c)});define("DS/UIKIT/Badge",["UWA/Core","UWA/Controls/Abstract","UWA/Event"],function(f,e){function a(k){var j,g,h;if(!k){return}k=k.split(" ");for(j=0,g=k.length;j<g;j++){h=k[j].match(/default|primary|info|warning|error|success$/);if(h&&!h[1]){k[j]="badge-"+k[j]}}return k.join(" ")}function b(j,i,h,g){if(i.addEventListener){i.addEventListener(j,h,g)}else{if(i.attachEvent){i.attachEvent("on"+j,h,g)}}}function d(i,h,g){if(h.removeEventListener){h.removeEventListener(i,g,false)}else{if(h.detachEvent){h.detachEvent("on"+i,g)}}}var c={name:"badge",defaultOptions:{className:"badge-default",closable:false,selectable:false,disabled:false},init:function(g){g=g||{};if(g.className){g.className=a(g.className)}this._parent(g);this.buildSkeleton()},buildSkeleton:function(){var h=this.elements,g=this.options;if(h.container){return}h.container=f.createElement("span",{"class":this.getClassNames()});if(g.id){h.container.id=g.id}if(g.name){h.container.name=g.name}this.setSelectable(g.selectable);this.setClosable(g.closable);h.content=f.createElement("span",{"class":this.name+"-content"}).inject(h.container);h.content.setText(g.content);h.cross=f.createElement("span",{"class":"fonticon fonticon-cancel"}).inject(h.container);g.icon&&this.setIcon(this.options.icon);this.setDisabled(g.disabled)},setIcon:function(h){var j=this.elements;h=h.split(" ");for(var g=0,i=h.length;g<i;g++){if(!h[g].match("fonticon-")){h[g]="fonticon-"+h[g]}}h=h.join(" ");if(!j.icon){j.icon=f.createElement("span",{"class":"fonticon "+h+" "+this.name+"-icon"}).inject(j.container,"top")}else{j.icon.className="fonticon "+h+" "+this.name+"-icon"}return this},removeIcon:function(){if(this.elements.icon){this.elements.icon.destroy()}return this},select:function(g){if(this.isDisabled()){return}if(!f.is(g)){g=true}if(g){this.elements.container.addClassName(this.name+"-selected")}else{this.elements.container.removeClassName(this.name+"-selected")}},isSelected:function(){return this.elements.container.hasClassName(this.name+"-selected")},setClassName:function(g){this.options.className=a(g);this.getContent().className=this.getClassNames();return this},setSelectable:function(g){if(typeof g==="undefined"){g=false}this.options.selectable=g;this.elements.container.toggleClassName(this.name+"-selectable",g);return this},setClosable:function(g){if(typeof g==="undefined"){g=false}this.options.closable=g;this.elements.container.toggleClassName(this.name+"-closable",g);return this},handleEvents:function(){var i=this.elements,g=this.options,h=this;if(!this.events){this.events={};this.events.container={click:function(j){var k=f.Event.getElement(j);if(!/fonticon-cancel/.test(k.className)){g.selectable&&!h.isDisabled()&&i.container.addClassName(h.name+"-selected");h.dispatchEvent("onClick",[j,h])}}};this.events.cross={click:function(j){g.closable&&h.dispatchEvent("onClose",[j,h])}};this.events.document={click:function(j){if(!f.Event.getElement(j).isInjected(h.elements.container)){g.selectable&&!h.isDisabled()&&i.container.removeClassName(h.name+"-selected");h.dispatchEvent("onClickOutside",[j,h])}}}}if(this.isDisabled()){i.container.removeEvents(this.events.container);i.cross.removeEvents(this.events.cross);d("click",document,this.events.document.click)}else{i.container.addEvents(this.events.container);i.cross.addEvents(this.events.cross);b("click",document,this.events.document.click,true)}},destroy:function(){this.options.selectable&&d("click",document,this.events.document.click,true);this._parent()},enable:function(){return this.setDisabled(false)},disable:function(){return this.setDisabled()},setDisabled:function(g){var h=this.elements;if(typeof g==="undefined"){g=true}h.container.disabled=g;h.container.toggleClassName("disabled",g);this.handleEvents();return this},isDisabled:function(){return this.elements.container.disabled}};return e.extend(c)});define("DS/UIKIT/Scroller",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Controls/Abstract","UWA/Controls/Drag","UWA/Class/Timed"],function(e,h,c,f,i,g){function d(p){if(p.event){p=p.event}var n=p.changedTouches||p.touches||[p];var k={x:0,y:0};var m=n.length;var o;for(o=0;o<m;o++){k.x+=n[o].clientX/m;k.y+=n[o].clientY/m}return k}var j={delta:0,coef:1,active:false,visible:false,scrollSize:0,scrollPosition:0,offsetSize:0};var a=i.extend({defaultOptions:{snap:0,delay:0},init:function(k,l){this._parent(l);this.scroller=k;this.direction=this.element.className.contains("scrollbar-y")?"y":"x";this.infos=k._infos[this.direction]},_getPosition:function(){var k=this.element.getBoundingClientRect()[this.direction==="y"?"top":"left"];return d(this.currentEvent)[this.direction]-k},start:function(k){this._parent(k);this.infos.active=true;this.scroller.update();this.position=this._getPosition()},move:function(k,l){this._parent(k,l);this.infos.delta=(this._getPosition()-this.position)*this.infos.coef;this.infos.active=true;this.scroller.updateVisible()},stop:function(){this._parent();this.scroller.updateActive(this.currentEvent)}});var b=f.extend(g,{name:"scroller",options:{element:null,scrollbars:"auto",scrollbarsMargin:4,scrollbarsMinSize:50},init:function(k){if(e.is(k)&&e.is(k.element)){e.extendElement(k.element)}this._parent(k);this._elementEvents={mousemove:this.updateActive.bind(this),mouseout:this.updateActive.bind(this)};this.build();this.initInfos()},initInfos:function(){this._infos={x:Object.create(j),y:Object.create(j)};this.setPeriodical("update",this.update,1000);this.updateShift();this.update()},destroy:function(){if(this.options.element){var k=this.elements.container;k.removeEvents(this._elementEvents).removeClassName(this.getClassNames()).setContent(this.elements.content.childNodes);var l=k.destroy;k.destroy=function(){};this._parent();k.destroy=l}else{this._parent()}},onPostInjected:function(){this.initInfos()},build:function(){var k=this.options.element||e.createElement("div");k.addClassName(this.getClassNames()).addEvents(this._elementEvents);var m=this.options.scrollbars==="native"?"native-scrollbars ":"no-native-scrollbars ";var l=e.createElement("div",{"class":m+this.getClassNames("-content"),events:{scroll:this.updateVisible.bind(this)},html:[].slice.call(k.childNodes)}).inject(k);this.setDelayed("hide-overflow",function(){k.setStyle("overflow","hidden")},0);this.elements.container=k;this.elements.content=l},getInnerElement:function(){return this.elements.content},getScrollbar:function(k,l){var m=this.elements[k+"Scrollbar"];if(!m&&l){m=this.elements[k+"Scrollbar"]=e.createElement("div",{"class":this.getClassNames("-scrollbar","-scrollbar-"+k)}).inject(this.elements.container);new a(this,{element:m,root:this.elements.container});m.clientHeight}return m},scrollToElement:function(l,k,o){var n,m;if(!l.nodeType){l=this.elements.container.getElement(l)}if(!l){return}n=l.offsetLeft;m=l.offsetTop;if(k==="center"){m=m-(this.elements.content.getDimensions().height/2)+(l.getDimensions().height/2)}if(k==="bottom"){m=m-this.elements.content.getDimensions().height+l.getDimensions().height}this.scrollTo(n,m,o)},scrollTo:function(v,u,q){var r=this,o,w,p,n,l,k,m,s,t=100;if(isNaN(v)||isNaN(u)){return}if(q&&!isNaN(q)&&q>0){w=u>r.elements.content.scrollTop;o=v>r.elements.content.scrollLeft;k=(w)?(u-r.elements.content.scrollTop):(r.elements.content.scrollTop-u);l=(o)?(v-r.elements.content.scrollLeft):(r.elements.content.scrollLeft-v);p=Math.ceil(l/t);n=Math.ceil(k/t);s=(n>0)&&setInterval(function(){if(k>0){r.elements.content.scrollTop+=(w)?(n):(-n);k-=n}else{if(w){r.elements.content.scrollTop+=k}else{r.elements.content.scrollTop-=k}clearInterval(s)}},q/t);m=(p>0)&&setInterval(function(){if(l>0){r.elements.content.scrollLeft+=(o)?(p):(-p);l-=p}else{if(o){r.elements.content.scrollLeft+=l}else{r.elements.content.scrollLeft-=l}clearInterval(m)}},q/t)}else{this.elements.content.scrollLeft=v;this.elements.content.scrollTop=u}},updateActive:function(n){this.updateShift();if(this.options.scrollbars!=="virtual"){return}function l(q,p,r){return q<p&&p<r}if(n.type==="mouseout"||n.type==="touchend"){this._infos.x.active=this._infos.y.active=false}else{var m=this.elements.container.getBoundingClientRect();var o=12;var k=d(n);["x","y"].forEach(function(q,r){var p=m[r?"right":"bottom"];this._infos[q].active=l(p-o,k[r?"x":"y"],p)&&l(m[r?"top":"left"],k[q],m[r?"bottom":"right"])},this)}this.updateVisible()},updateVisible:function(){this._infos.x.visible=this._infos.y.visible=true;this.setDelayed("scrollbars-visible",function(){this._infos.x.visible=this._infos.y.visible=false;this.update()},1000);this.update()},updateShift:function(){var m=this.elements.content;if(this._shift===undefined&&m.isInjected()){var l=this.options.scrollbars;if(l==="auto"){if(c.Platform.ios){l="native";m.removeClassName("no-native-scrollbars").addClassName("native-scrollbars")}else{l="virtual"}this.options.scrollbars=l}if(l==="virtual"){var k=m.offsetWidth-m.clientWidth;if(k>0&&k<30){this._shift=k;m.setStyles({right:-this._shift,bottom:-this._shift})}else{if(c.Engine.firefox){this._shift=16;m.setStyles({right:-this._shift,bottom:-this._shift,"padding-right":this._shift,"padding-bottom":this._shift})}}}else{this._shift=0}}},_read:function(m){var l=this._infos[m?"y":"x"];var k=this.elements.content;l.scrollSize=k[m?"scrollHeight":"scrollWidth"];l.scrollPosition=k[m?"scrollTop":"scrollLeft"]+l.delta;l.offsetSize=k[m?"offsetHeight":"offsetWidth"]-(this._shift||0);if(l.scrollPosition<0){l.scrollPosition=0}else{if(l.scrollPosition>l.scrollSize-l.offsetSize){l.scrollPosition=l.scrollSize-l.offsetSize}}},_write:function(r){var n=r?"y":"x",p=this._infos[n],m=this.options;if(p.delta){this.elements.content[r?"scrollTop":"scrollLeft"]=p.scrollPosition;p.delta=0}if(this.options.scrollbars==="virtual"){var k=p.scrollSize>(p.offsetSize+(c.Engine.firefox?this._shift:0));var q=this.getScrollbar(n,k);if(k&&p.scrollSize){var l=p.offsetSize-2*m.scrollbarsMargin;var o=(l*(p.offsetSize/p.scrollSize));if(o<m.scrollbarsMinSize){o=m.scrollbarsMinSize}p.coef=(p.scrollSize-p.offsetSize)/(l-o);q.style[r?"top":"left"]=(m.scrollbarsMargin+p.scrollPosition/p.coef)+"px";q.style[r?"height":"width"]=o+"px";q.toggleClassName("active",p.active).toggleClassName("visible",p.visible)}else{if(q){q.removeClassName("active").removeClassName("visible")}}}},update:function(){this.setAnimate("update",function(){this.updateShift();this._read(false);this._read(true);if(!e.equals(this._previousInfos,this._infos)){this._write(false);this._write(true);this._previousInfos=e.clone(this._infos)}})}});return f.extend(b)});define("DS/UIKIT/Carousel",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/Abstract"],function(g,b,a,d,f){function c(h){return g.extendElement(g.createElement("div").setContent(h).firstChild)}var e={name:"carousel",defaultOptions:{className:"",autoPlay:true,infinite:true,dots:true,arrows:true,pauseOnHover:false,animation:"slide",slideSelector:"> div",slideSpeed:200,autoPlaySpeed:5000,slideToShow:1,slidesToScroll:1},current:null,slides:null,init:function(h){h=h||{};if(!g.is(h,"object")){h={slides:h}}this._parent(h);this.slides=[];this.buildSkeleton();if(g.is(h.renderTo,"element")){this.inject(g.extendElement(h.renderTo));delete this.options.renderTo}if(this.options.autoPlay){this.play()}},buildSkeleton:function(){var m=this,i=this.options,l=g.is(i.slides,"element"),n=this.elements,k,j;function h(o,p){a.preventDefault(p);if(m.autoplayTimer){m.pause();m.addEventOnce("onSlide",m.play.bind(m))}m.slide(o)}if(n.container){return}n.container=g.createElement("div",{"class":this.name+" "+i.className});if(l){n.content=g.extendElement(i.slides);k=this.getSlides()}else{n.content=g.createElement("div");if(g.is(i.slides,"array")){k=i.slides}}n.content.addClassName(this.name+"-slides");if(i.dots){n.dots=g.createElement("ol",{"class":this.name+"-indicators"}).inject(n.container);n.dots.addEvent("mousedown",function(p){var o,q=a.getElement(p);if(q.hasClassName("indicator")){o=n.dots.getChildren().indexOf(q);h(o,p)}})}k&&this.add(k);if(l&&n.content.isInjected()){j=n.content.getParent();if(j){n.content.inject(n.container);n.container.inject(j)}}else{n.content.inject(n.container)}if(i.arrows){n.arrowLeft=g.createElement("a",{"class":"left "+this.name+"-control",html:'<span class ="fonticon fonticon-left-open"></span>'}).inject(n.container);n.arrowRight=g.createElement("a",{"class":"right "+this.name+"-control",html:'<span class ="fonticon fonticon-right-open"></span>'}).inject(n.container);n.arrowRight.addEvent("mousedown",function(o){h("right",o)});n.arrowLeft.addEvent("mousedown",function(o){h("left",o)})}delete i.slides},getSlides:function(){return this.elements.content.getElements(this.options.slideSelector)},add:function(h){var i=this;d.splat(h).forEach(function(j){i.addSlide(j)});if(!this.current){this.setActive(0)}return this},addSlide:function(i,h){var j=this.elements;i=g.is(i,"element")?i:c(i);i.addClassName("slide");if(g.is(h)){}else{if(!i.isInjected()){i.inject(j.content)}if(this.options.dots){g.createElement("li",{"class":"indicator"}).inject(j.dots)}this.slides.push(i);this.dispatchEvent("onAddSlide",i)}},remove:function(h){var i=this;d.splat(h).forEach(function(j){i.removeSlide(j)});if(!this.current){this.setActive(0)}return this},removeSlide:function(h){if(this.slides[h]){this.slides[h].remove();this.slides.splice(h,1);if(this.elements.dots){this.elements.dots.getChildren()[h].remove()}this.dispatchEvent("onRemoveSlide",this.slides[h])}},setActive:function(i){var h=this.slides[i],k=this.elements,j;if(h){h.addClassName("active");this.current=h;if(k.dots){j=k.dots.getChildren();j.forEach(function(l){l.removeClassName("active")});j[i].addClassName("active")}}},slide:function(i){var m=this,k=this.options,o="next",n="left",j=this.slides.indexOf(this.current),h=false;if(this.slides.length<2||/sliding|fade/.test(this.current.className)){return}if(!g.is(i)||g.is(i,"string")){if(i==="left"){n="right";o="prev";j--}else{j++}}else{if(g.is(i,"number")&&this.slides[i]&&j!==i){if(j>i){n="right";o="prev"}j=i}else{j=false}}if(j!==false){if(k.infinite&&!this.slides[j]){j=j===this.slides.length?0:this.slides.length-1;h=true}if(this.slides[j]){if(m.elements.dots){var l=m.elements.dots.getChildren();l.forEach(function(p){p.removeClassName("active")})}if(k.animation==="slide"){this.slides[j].addClassName("sliding "+o);this.current.addClassName("sliding");setTimeout(function(){m.slides[j].addClassName(n);m.current.addClassName(n);setTimeout(function(){m.current.removeClassName("sliding");m.current.removeClassName(n);m.slides[j].removeClassName("sliding");m.slides[j].removeClassName(o);m.slides[j].removeClassName(n);m.current.removeClassName("active");m.setActive(j);m.dispatchEvent("onSlide");h&&m.dispatchEvent("onLoop")},600)},50)}else{m.current.addClassName("fade in");m.slides[j].addClassName("fade "+o);setTimeout(function(){m.current.removeClassName("in");m.slides[j].addClassName("in");setTimeout(function(){m.current.removeClassName("fade");m.slides[j].removeClassName("fade");m.slides[j].removeClassName(o);m.slides[j].removeClassName("in");m.current.removeClassName("active");m.setActive(j);m.dispatchEvent("onSlide");h&&m.dispatchEvent("onLoop")},600)},50)}}}return this},play:function(i){var j=this,h=this.options;this.autoplayTimer&&this.pause();if(h.pauseOnHover&&!i){this.elements.container.addEvents({mouseover:function(){j.pause(true)},mouseout:function(){j.play(true)}})}this.autoplayTimer=setInterval(function(){window.requestAnimationFrame(j.slide.bind(j,"right"))},h.autoPlaySpeed);return this},pause:function(i){var h=this.options;if(this.autoplayTimer){if(h.pauseOnHover&&!i){this.elements.container.removeEvent("mouseover");this.elements.container.removeEvent("mouseout")}clearInterval(this.autoplayTimer);this.autoplayTimer=null}return this},destroy:function(){this.pause();this._parent();this.elements=null}};return f.extend(e)});if(typeof Hammer!=="undefined"){define("DS/VENHammer",function(){return Hammer})}else{if(require.toUrl("DS/VENHammer").indexOf("2.0.8/hammer")===-1){(function(){var a=require.toUrl("DS/VENHammer/2.0.8/hammer");if(a.indexOf("?")>-1){a=a.substring(0,a.indexOf("?"))}require.config({paths:{"DS/VENHammer":a},shim:{"DS/VENHammer":{exports:"Hammer"}}})}())}}define("DS/UIKIT/Touch",["DS/VENHammer"],function(a){a.defaults.touchAction="pan-y";return a});define("DS/UIKIT/DatePicker",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","UWA/Controls/Abstract","i18n!DS/UIKIT/assets/nls/UIKIT"],function(h,c,m,g,j,n){function i(o){return h.is(o,"date")&&!isNaN(o.getTime())}function b(o){return o%4===0&&o%100!==0||o%400===0}function f(o,p){return[31,b(o)?29:28,31,30,31,30,31,31,30,31,30,31][p]}function d(o){if(i(o)){o.setHours(0,0,0,0)}}function e(p,o){return p.getTime()===o.getTime()}function a(o){if(o.month<0){o.year-=Math.ceil(Math.abs(o.month)/12);o.month+=12}if(o.month>11){o.year+=Math.floor(Math.abs(o.month)/12);o.month-=12}return o}function l(p,o,r){var q;if(document.createEvent){q=document.createEvent("HTMLEvents");q.initEvent(o,true,false);q=h.extend(q,r);p.dispatchEvent(q)}else{if(document.createEventObject){q=document.createEventObject();q=h.extend(q,r);p.fireEvent("on"+o,q)}}}var k={name:"datepicker",defaultOptions:{field:null,bound:undefined,position:"bottom left",defaultDate:null,setDefaultDate:false,firstDay:0,minDate:null,maxDate:null,yearRange:20,showWeekNumber:false,isRTL:false,yearSuffix:"",showMonthAfterYear:false,numberOfMonths:1,mainCalendar:"left",renderTo:undefined,i18n:{previousMonth:n.previousMonth,nextMonth:n.nextMonth,months:[n.january,n.february,n.march,n.april,n.may,n.june,n.july,n.august,n.september,n.october,n.november,n.december],weekdays:[n.sunday,n.monday,n.tuesday,n.wednesday,n.thursday,n.friday,n.saturday],weekdaysShort:[n.sun,n.mon,n.tue,n.wed,n.thu,n.fri,n.sat]},minYear:0,maxYear:9999,minMonth:undefined,maxMonth:undefined},init:function(p){var o,q;this._parent(p);p=this.options;this.events={};p.isRTL=!!p.isRTL;p.field=(h.is(p.field,"element"))?p.field:null;p.bound=!!(h.is(p.bound)?p.field&&p.bound:p.field);p.trigger=(h.is(p.trigger,"element"))?p.trigger:p.field;o=parseInt(p.numberOfMonths,10)||1;p.numberOfMonths=o>4?4:o;p.minDate=i(p.minDate)?p.minDate:false;p.maxDate=i(p.maxDate)?p.maxDate:false;if((p.minDate&&p.maxDate)&&p.maxDate<p.minDate){p.maxDate=p.minDate=false}if(p.minDate){d(p.minDate);p.minYear=p.minDate.getFullYear();p.minMonth=p.minDate.getMonth()}if(p.maxDate){d(p.maxDate);p.maxYear=p.maxDate.getFullYear();p.maxMonth=p.maxDate.getMonth()}if(h.is(p.yearRange,"array")){q=new Date().getFullYear()-10;p.yearRange[0]=parseInt(p.yearRange[0],10)||q;p.yearRange[1]=parseInt(p.yearRange[1],10)||q}else{p.yearRange=Math.abs(parseInt(p.yearRange,10))||this.defaultOptions.yearRange;if(p.yearRange>100){p.yearRange=100}}this.buildSkeleton()},buildSkeleton:function(){var q=this.elements,p=this.options,o;q.container=h.createElement("div",{"class":this.name+(p.isRTL?" is-rtl":"")});q.container.addEvent("mousedown",this.onMouseDown.bind(this),false,0,true);q.container.addEvent("change",this.onChange.bind(this));if(p.field){if(p.renderTo){q.container.inject(p.renderTo)}else{if(p.bound){q.container.inject(document.body)}else{p.field.parentNode.insertBefore(q.container,p.field.nextSibling)}}this.events.onInputChange=this.onInputChange.bind(this);p.field.addEvent("change",this.events.onInputChange);if(!p.defaultDate){p.defaultDate=new Date(Date.parse(p.field.value));p.setDefaultDate=true}}o=p.defaultDate;if(i(o)){if(p.setDefaultDate){this.setDate(o,true)}else{this.gotoDate(o)}}else{this.gotoDate(new Date())}if(p.bound){this.hide();q.container.addClassName(" is-bound");this.events.onInputClick=this.onInputClick.bind(this);this.events.onInputFocus=this.onInputFocus.bind(this);this.events.onInputBlur=this.onInputBlur.bind(this);p.trigger.addEvents({click:this.events.onInputClick,focus:this.events.onInputFocus,blur:this.events.onInputBlur})}else{this.show()}delete p.renderTo},onMouseDown:function(q){var p=this,r=m.getElement(q),o=this.options;if(!this.visible||!r){return}if(!r.hasClassName("is-disabled")){if(r.hasClassName(this.name+"-button")&&!r.hasClassName("is-empty")){this.setDate(new Date(r.getAttribute("data-year"),r.getAttribute("data-month"),r.getAttribute("data-day")));if(o.bound){setTimeout(function(){p.hide();if(o.field){o.field.blur()}},100)}return}else{if(r.hasClassName(this.name+"-prev")){this.prevMonth()}else{if(r.hasClassName(this.name+"-next")){this.nextMonth()}}}}if(!r.hasClassName(this.name+"-select")){m.preventDefault(q)}else{this._c=true}},onChange:function(o){var p=m.getElement(o);if(!p){return}if(p.hasClassName(this.name+"-select-month")){this.gotoMonth(p.value)}else{if(p.hasClassName(this.name+"-select-year")){this.gotoYear(p.value)}}},onInputChange:function(p){var o;if(p.firedBy===this){return}o=new Date(Date.parse(this.options.field.value));this.setDate(i(o)?o:null)},onInputFocus:function(){this.show()},onInputClick:function(){this.show()},onInputBlur:function(){var o=this;if(!this._c){this._b=setTimeout(function(){o.hide()},50)}this._c=false},onClick:function(o){var p=m.getElement(o),q=p;if(!p){return}do{if(q.hasClassName(this.name)){return}}while((q=q.getParent()));if(this.visible&&p!==this.options.trigger){this.hide()}},toString:function(){var o,p;if(!i(this.day)){p=""}else{if(!h.is(n._lang)||!h.is(window.Intl)){p=this.day.toDateString()}else{o={weekday:"short",year:"numeric",month:"short",day:"2-digit"};p=new Intl.DateTimeFormat(n._lang,o).format(this.day)}}return p},getDate:function(){return i(this.day)?new Date(this.day.getTime()):null},setDate:function(r,p){var q=this.options,s,o;if(!r){this.day=null;return this.draw()}if(h.is(r,"string")){r=new Date(Date.parse(r))}if(!i(r)){return}s=q.minDate;o=q.maxDate;if(i(s)&&r<s){r=s}else{if(i(o)&&r>o){r=o}}this.day=new Date(r.getTime());d(this.day);this.gotoDate(this.day);if(q.field&&q.field.value!==this.toString()){q.field.value=this.toString();!q.field.disabled&&!p&&l(q.field,"change",{firedBy:this})}if(!p){this.dispatchEvent("onSelect",this.getDate())}},gotoDate:function(q){var p=true,s,o,r;if(!i(q)){return}if(this.calendars){s=new Date(this.calendars[0].year,this.calendars[0].month,1);o=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1);r=q.getTime();o.setMonth(o.getMonth()+1);o.setDate(o.getDate()-1);p=(r<s.getTime()||o.getTime()<r)}if(p){this.calendars=[{month:q.getMonth(),year:q.getFullYear()}];if(this.options.mainCalendar==="right"){this.calendars[0].month+=1-this.options.numberOfMonths}}this.adjustCalendars()},adjustCalendars:function(){this.calendars[0]=a(this.calendars[0]);for(var o=1;o<this.options.numberOfMonths;o++){this.calendars[o]=a({month:this.calendars[0].month+o,year:this.calendars[0].year})}this.draw()},gotoToday:function(){this.gotoDate(new Date())},gotoMonth:function(o){if(!isNaN(o)){this.calendars[0].month=parseInt(o,10);this.adjustCalendars()}},nextMonth:function(){this.calendars[0].month++;this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--;this.adjustCalendars()},gotoYear:function(o){if(!isNaN(o)){this.calendars[0].year=parseInt(o,10);if(this.calendars[0].month>this.options.maxMonth&&this.calendars[0].year>=this.options.maxYear){this.gotoDate(this.options.maxDate)}else{if(this.calendars[0].month<this.options.minMonth&&this.calendars[0].year<=this.options.maxYear){this.gotoDate(this.options.minDate)}else{this.adjustCalendars()}}}},setMinDate:function(o){if(i(o)){d(o);this.options.minDate=o;this.options.minYear=this.options.minDate.getFullYear();this.options.minMonth=this.options.minDate.getMonth()}else{if(o===false){this.options.minDate=false;this.options.minYear=false;this.options.minMonth=false}}},setMaxDate:function(o){if(i(o)){d(o);this.options.maxDate=o;this.options.maxYear=this.options.maxDate.getFullYear();this.options.maxMonth=this.options.maxDate.getMonth()}else{if(o===false){this.options.maxDate=false;this.options.maxYear=false;this.options.maxMonth=false}}},clearDates:function(){this.setMinDate(false);this.setMaxDate(false)},draw:function(p){var u=this,y=this.options,o=this.elements,x=y.minYear,s=y.maxYear,t=y.minMonth,q=y.maxMonth,r="";function w(I,J,H,M){var D,C,G,B=J===y.minYear,L=J===y.maxYear,F='<div class="datepicker-title">',A,K,z=true,E=true;for(G=[],D=0;D<12;D++){G.push('<option value="'+(J===M?D-I:12+D-I)+'"'+(D===H?" selected":"")+((B&&D<y.minMonth)||(L&&D>y.maxMonth)?"disabled":"")+">"+y.i18n.months[D]+"</option>")}A='<div class="datepicker-label">'+y.i18n.months[H]+'<select class="datepicker-select datepicker-select-month">'+G.join("")+"</select></div>";if(h.is(y.yearRange,"array")){D=y.yearRange[0];C=y.yearRange[1]+1}else{D=J-y.yearRange;C=1+J+y.yearRange}for(G=[];D<C&&D<=y.maxYear;D++){if(D>=y.minYear){G.push('<option value="'+D+'"'+(D===J?" selected":"")+">"+(D)+"</option>")}}K='<div class="datepicker-label">'+J+y.yearSuffix+'<select class="datepicker-select datepicker-select-year">'+G.join("")+"</select></div>";if(y.showMonthAfterYear){F+=K+A}else{F+=A+K}if(B&&(H===0||y.minMonth>=H)){z=false}if(L&&(H===11||y.maxMonth<=H)){E=false}if(I===0){F+='<button class="datepicker-prev'+(z?"":" is-disabled")+'" type="button">'+y.i18n.previousMonth+"</button>"}if(I===(y.numberOfMonths-1)){F+='<button class="datepicker-next'+(E?"":" is-disabled")+'" type="button">'+y.i18n.nextMonth+"</button>"}F+="</div>";return F}if(!this.visible&&!p){return}if(this.year<=x){this.year=x;if(!isNaN(t)&&this.month<t){this.month=t}}if(this.year>=s){this.year=s;if(!isNaN(q)&&this.month>q){this.month=q}}for(var v=0;v<y.numberOfMonths;v++){r+='<div class="'+this.name+'-calendar">'+w(v,this.calendars[v].year,this.calendars[v].month,this.calendars[0].year)+this.render(this.calendars[v].year,this.calendars[v].month)+"</div>"}o.container.setHTML(r);if(y.bound){if(y.field.type!=="hidden"){setTimeout(function(){y.trigger.focus()},1)}}setTimeout(function(){u.dispatchEvent("onDraw")},0)},updatePosition:function(){if(this.options.renderTo){return}var y=this.options,o=this.elements,w=y.trigger,p=o.container.offsetWidth,x=o.container.offsetHeight,s=w.getOffsets(),u=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,q=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,r,v;r=s.x;v=s.y+w.offsetHeight;if(r+p>u||(y.position.indexOf("right")>-1&&r-p+w.offsetWidth>0)){r=r-p+w.offsetWidth}if(v+x>t+q||(y.position.indexOf("top")>-1&&v-x-w.offsetHeight>0)){v=v-x-w.offsetHeight}o.container.setStyles({position:"absolute",left:r,top:v})},render:function(A,K){var y=this,s=this.options,p=new Date(),u=f(A,K),C=new Date(A,K,1).getDay(),M=[],w=[],t,q;function F(r){return'<table cellpadding="0" cellspacing="0" class="'+y.name+'-table">'+J()+o(r)+"</table>"}function J(){var O,r=[];if(s.showWeekNumber){r.push("<th></th>")}for(O=0;O<7;O++){r.push('<th scope="col"><abbr title="'+L(O)+'">'+L(O,true)+"</abbr></th>")}return"<thead>"+(s.isRTL?r.reverse():r).join("")+"</thead>"}function o(r){return"<tbody>"+r.join("")+"</tbody>"}function x(Q,r,R){var O=new Date(R,0,1),P=Math.ceil((((new Date(R,r,Q)-O)/86400000)+O.getDay()+1)/7);return'<td class="'+y.name+'-week">'+P+"</td>"}function L(r,O){r+=s.firstDay;while(r>=7){r-=7}return O?s.i18n.weekdaysShort[r]:s.i18n.weekdays[r]}function I(T,O,U,Q,R,P,S){var r=[];if(S){return'<td class="is-empty"></td>'}if(P){r.push("is-disabled")}if(R){r.push("is-today")}if(Q){r.push("is-selected")}return'<td data-day="'+T+'" class="'+r.join(" ")+'"><button class="'+y.name+"-button "+y.name+'-day" type="button" data-year="'+U+'" data-month="'+O+'" data-day="'+T+'">'+T+"</button></td>"}function v(O,r){return"<tr>"+(r?O.reverse():O).join("")+"</tr>"}d(p);if(s.firstDay>0){C-=s.firstDay;if(C<0){C+=7}}t=u+C;q=t;while(q>7){q-=7}t+=7-q;for(var H=0,E=0;H<t;H++){var G=new Date(A,K,1+(H-C)),B=(s.minDate&&G<s.minDate)||(s.maxDate&&G>s.maxDate),z=i(this.day)?e(G,this.day):false,N=e(G,p),D=H<C||H>=(u+C);w.push(I(1+(H-C),K,A,z,N,B,D));if(++E===7){if(s.showWeekNumber){w.unshift(x(H-C,K,A))}M.push(v(w,s.isRTL));w=[];E=0}}return F(M)},isVisible:function(){return this.visible},show:function(){var o=this.options;if(!this.visible){this.elements.container.removeClassName("is-hidden");this.visible=true;this.draw();if(o.bound){this.events.onClickOutside=this.onClick.bind(this);c.addEvent.call(document,"click",this.events.onClickOutside);this.updatePosition()}this.dispatchEvent("onShow")}},hide:function(){var o=this.visible;if(o!==false){if(this.options.bound){c.removeEvent.call(document,"click",this.events.onClickOutside)}this.elements.container.style.cssText="";this.elements.container.addClassName("is-hidden");this.visible=false;if(h.is(o)){this.dispatchEvent("onHide")}}},destroy:function(){var o=this.options,p=this.elements;this.hide();if(o.field){o.field.removeEvent("change",this.events.onInputChange);if(o.bound){o.trigger.removeEvent("click",this.events.onInputClick);o.trigger.removeEvent("focus",this.events.onInputFocus);o.trigger.removeEvent("blur",this.events.onInputBlur)}}if(p.container.parentNode){p.container.parentNode.removeChild(this.elements.container)}this._parent()}};return j.extend(k)});define("DS/UIKIT/Tooltip",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","UWA/Controls/Abstract"],function(g,b,a,e,f){var c="MutationObserver" in window;var d={_positions:["top","top right","right","bottom right","bottom","bottom left","left","top left"],name:"tooltip",defaultOptions:{className:"",animate:true,offset:{x:0,y:0},anchor:"target",position:"top",trigger:"hover focus",autoHide:true,closeOnClick:false},isVisible:false,shouldListenForScroll:false,init:function(i,h){i=i||{};if(g.is(i,"element")){i={target:i}}if(h){i.position=h}if(i.trigger==="touch"){i.trigger=this.defaultOptions.trigger+" touch"}this._parent(i);this._mutationObserver=undefined;this.options.animate=e.Features.transitionsCSS&&this.options.animate;this.buildSkeleton()},getBody:function(){return this.elements&&this.elements.body},setBody:function(h){if(this.getBody()){this.elements.body.empty();this.elements.body.addContent(h)}this.isVisible&&this.updatePosition(this._lastValidPosition);return this},getPositionClasses:function(j){var i=j||this.options.position,h=i;if(i.split(" ").length>1){i=h.indexOf("top")>-1?["top"]:["bottom"];i.push(h.indexOf("left")>-1?"left":"right");i=i[0]+" "+i.join("-")}return i},buildSkeleton:function(){var j=g.createElement,k=this.elements,i=this.options,h=i.position;if(h.split(" ").length>1){h=i.position.indexOf("top")>-1?["top"]:["bottom"];h.push(i.position.indexOf("left")>-1?"left":"right");h=h[0]+" "+h.join("-")}if(k.container){return}k.container=j("div",{"class":this.getClassNames()+" "+h});j("div",{"class":this.name+"-arrow"}).inject(k.container);k.body=j("div",{"class":this.name+"-body",html:i.body||i.target.getAttribute("title")||"..."}).inject(k.container);i.target.setAttribute("title","");if(i.animate){k.container.addClassName("fade")}this.handleEvents();delete i.body},handleEvents:function(){var k=this,i=this.options,h=g.Utils.Client.Features.touchEvents,j=i.trigger.split(" ");function l(n,m){return function(p){if(k._shouldStopEventChain){if(p&&p.type==="click"){k._shouldStopEventChain=false}return}var o=(n===undefined)?!k.isVisible:n;if(o&&m){k._touchstart=b.addEvent.call(document.body,"touchstart",function(q){b.removeEvent.call(document.body,"touchstart",k._touchstart);if(k.elements.container.isInjected()&&a.getElement(q)!==i.target){l(false)()}})}if(i.delay){clearTimeout(k.timeout);k.timeout=setTimeout(function(){if(o&&k.options.target&&k.options.target.isInjected()){k.show()}else{if(!o){k.hide()}}},o?i.delay.show:i.delay.hide)}else{k[o?"show":"hide"]()}}}if(!this.events&&i.target){this.events={};if(h){this.events.touchstart=function(m){if(this.options.trigger.indexOf("touch")===-1){this._shouldStopEventChain=true;m.stopPropagation()}}.bind(this)}j.forEach(function(m){if(m==="hover"){this.events.mouseover=l(true);this.events.mouseout=l(false)}if(m==="focus"){if(h){this.events.click=l(undefined,h)}else{this.events.focus=l(true);this.events.blur=l(false)}}if(m==="click"){this.shouldListenForScroll=true;this.events.click=l()}},this);if(i.closeOnClick&&!this.events.click){this.events.click=l()}if(!i.target.addEvents){g.extendElement(i.target)}i.target.addEvents(this.events)}},resetPosition:function(){this.elements.container.setStyles({top:null,left:null});this._positions.map(this.getPositionClasses).join(" ").split(" ").forEach(function(h){this.elements.container.hasClassName(h)&&this.elements.container.removeClassName(h)},this)},setPlacementClasses:function(h){this.getPositionClasses(h).split(" ").forEach(function(i){!this.elements.container.hasClassName(i)&&this.elements.container.addClassName(i)},this)},setPosition:function(m,k,j,i){var h=k,l=this.getPositionClasses(m);if(isNaN(j.width)){j.width=0}if(isNaN(j.height)){j.height=0}if(/-right/.test(l)){h.x+=j.width-i.width}else{if(/(top|bottom)$/.test(l)){h.x+=(j.width/2)-(i.width/2)}}if(/bottom/.test(l)){h.y+=j.height}else{if(/^(left|right)$/.test(l)){h.x-=i.width;h.y+=(j.height/2)-(i.height/2);if(l==="right"){h.x+=j.width+i.width}}else{h.y-=i.height}}this.elements.container.setStyles({left:Math.round(h.x+this.options.offset.x+parseInt(this.options.target.getStyle("marginLeft"),10)),top:Math.round(h.y+this.options.offset.y+parseInt(this.options.target.getStyle("marginTop"),10))})},adjustPosition:function(m,j){var p=document.body.getBoundingClientRect(),k=this.elements.container.getBoundingClientRect(),o=Math.floor((5*p.width)/100),h=(p.width-k.right)<=o,i=k.left<o,l,n;if(h||i){l=this.options.target.getPosition(document.body);n=this.elements.container.getSize();this.setPosition(m,l,j,n)}},isNotFullyVisible:function(){return !this.elements.container.isInViewport(document.body)||!this.elements.container.isInViewport(document.body,true)},updatePosition:(function(){function h(j){var i=(this._positions.indexOf(j)+1)%this._positions.length;return this._positions[i]}return function(){var i=typeof arguments[1]==="number"?arguments[1]:0,k=this._positions.length,n,j,m,l;if(i>=k){return}j=this.options;n=arguments[0]||j.position;m=j.target.getPosition(document.body);l=j.target.getSize();this.resetPosition();this.setPlacementClasses(n);this.setPosition(n,m,l,this.elements.container.getSize());if(/^(top|bottom)$/.test(n)||this._needsPositionAdjusment){this.adjustPosition(n,l)}if(this.isNotFullyVisible()){this.updatePosition(h.call(this,n),i+1)}else{this._lastValidPosition=n}return this}}()),toggle:function(){return this[this.isVisible?"hide":"show"]()},_contentInsertionMutationCallback:function(h){var i=h.some(function(j){return j.addedNodes.length||j.removedNodes.length});i&&this.updatePosition(this._lastValidPosition)},_targetRemovalMutationCallback:function(h){var i=h.some(function(j){return Array.prototype.indexOf.call(j.removedNodes,this.options.target)!==-1},this);i&&this.hide()},show:function(){var h=this,j=this.elements;if(!j){return}if(c){if(!this._mutationObserver){this._mutationObserver=new MutationObserver(function(k){h._targetRemovalMutationCallback(k);h._contentInsertionMutationCallback(k)})}try{this._mutationObserver.observe(this.options.target.parentNode,{childList:true});this._mutationObserver.observe(this.elements.container,{childList:true,subtree:true})}catch(i){}}if(this.shouldListenForScroll&&this.options.autoHide){clearInterval(this._scrollInterval);this._initialTargetClientRect=this.options.target.getBoundingClientRect();this._scrollInterval=setInterval(function(){var k;try{k=h.options.target.getBoundingClientRect()}catch(l){k={bottom:0}}if(h._initialTargetClientRect.bottom!==k.bottom){try{h.options.target.blur&&h.options.target.blur()}catch(l){}h.hide()}},300)}if(!this.isVisible){this.isVisible=true;this.inject(document.body,"top");this.updatePosition(this._lastValidPosition);this.elements.container.addClassName("in");if(this.options.animate){setTimeout(function(){if(h.elements&&h.isVisible){h.dispatchEvent("onShow")}},150)}else{this.dispatchEvent("onShow")}}return this},hide:function(){var j=this,i=this.options,k=this.elements;function h(){if(!j.isVisible&&j.elements){j.elements.container.remove(document.body);j.dispatchEvent("onHide")}}if(!k){return}if(this.shouldListenForScroll){clearInterval(this._scrollInterval);this._initialTargetClientRect=undefined}if(c&&this._mutationObserver){this._mutationObserver.disconnect()}if(this.isVisible){this.isVisible=false;k.container.removeClassName("in");if(i.animate){setTimeout(function(){h()},150)}else{h()}}return this},destroy:function(){if(this.options){this.options.animate=false;this.options.target&&this.options.target.removeEvents(this.events)}this.hide();this._touchstart&&b.removeEvent.call(document.body,"touchstart",this._touchstart);this._mutationObserver=null;this._parent();this.elements=null}};return f.extend(d)});define("DS/UIKIT/Menu",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/Abstract"],function(h,b,a,e,g){var c=(function(){var i=/^(header|divider)$/;return function(k){if(!k){return false}var l=k.split(" ");for(var j=0;j<l.length;j++){if(i.test(l[j])){return true}}return false}}());function f(i){return/\.(gif|jpg|jpeg|tiff|png)$/i.test(i)}var d={name:"",templateClassname:"",backItem:null,items:null,isVisible:false,keyboardIndex:-1,defaultOptions:{multiSelect:false,attributes:{}},init:function(i){i=i||{};if(i.kb===undefined){i.kb=true}this._parent(i);this.items=[];this.buildSkeleton();if(i.items){i.items.forEach(function(j){this.addItem(j)},this)}},buildSkeleton:function(){var i=h.createElement,j=this.elements;if(j.container){return}j.container=i("div",{"class":this.getClassNames(),styles:{display:"none"}});Object.keys(this.options.attributes).forEach(function(k){j.container.setAttribute(k,this.options.attributes[k])},this);j.wrapper=i("ul",{"class":this.name+"-wrap",tabindex:"1"});this.options.multiSelect&&j.wrapper.addClassName("dropdown-multiselect");j.wrapper.inject(j.container)},hide:function(){if(this.isVisible){this.isVisible=false;this.getContent().setStyle("display","none");this.dispatchEvent("onHide")}return this},show:function(){if(!this.isVisible){this.isVisible=true;this.getContent().setStyle("display","");this.focusIt();this.dispatchEvent("onShow")}return this},focusIt:function(){this.options.kb&&this.elements.wrapper.focus()},addItem:function(i){var j=this;e.splat(i).forEach(function(k){j._addItem(k)});return this},addBackItem:function(i){i.isBackItem=true;this.backItem=this._addItem(i);return this.backItem},_addItem:function(j){var n=this.elements,i=j.className||"",m={},k,l=this;m.id=j.id||"itm-"+e.getUUID().substr(0,6);if(!j.name){m.name=j.text}if(j.disabled){i+=" disabled"}if(j.selected){j.selectable=true}if(j.selectable){i+=" selectable";m.toggleSelection=function(){l.toggleSelection(m)}}m.elements={};m.elements.container=h.createElement("li",{"class":"item "+i,id:m.id,title:j.title||""});Object.keys(j.attributes||{}).forEach(function(o){m.elements.container.setAttribute(o,j.attributes[o])});if(j.name){m.elements.container.set("name",j.name)}if(j.template){m.elements.content=h.createElement("div",{"class":"item "+this.templateClassname,id:m.id,html:j.template}).inject(m.elements.container)}else{if(j.text){m.elements.content=h.createElement("span",{"class":"item-text",text:j.text||""}).inject(m.elements.container)}}if(c(j.className)){m.elements.container.removeClassName("item")}else{if(j.fonticon){m.elements.icon=h.createElement("span",{"class":"fonticon fonticon-"+j.fonticon}).inject(m.elements.container,"top");n.wrapper.addClassName(this.name+"-icons")}if(!j.fonticon&&j.icon){if(f(j.icon)){m.elements.icon=h.createElement("img",{src:j.icon,"class":"item-icon"})}else{m.elements.icon=h.createElement("span",{"class":j.icon})}m.elements.icon.inject(m.elements.container,"top");n.wrapper.addClassName(this.name+"-icons")}}if(j.handler&&h.is(j.handler,"function")){m.handler=j.handler}if(j.index&&j.index!==this.items.length+1){k=this.items[j.index-1];m.elements.container.inject(k.elements.container,"before");if(!j.isBackItem){this.items.splice(j.index-1,0,h.merge(m,j))}}else{m.elements.container.inject(n.wrapper);this.items.push(h.merge(m,j))}if(j.selected){this.select(m)}return m},removeItem:function(i){var j=this;e.splat(i).forEach(function(k){j._removeItem(k)});return this},removeBackItem:function(){this.backItem&&this.backItem.elements.container.destroy();this.backItem=null;return this},_removeItem:function(j){var i=this.getItem(j);if(i){i.elements.container.destroy();this.items.splice(this.items.indexOf(i),1)}},updateItem:function(i){var j=this;e.splat(i).forEach(function(k){j._updateItem(k)});return this},_updateItem:function(k){var m=this.getItem(k.id),j;function i(n){n.elements.icon&&n.elements.icon.destroy();n.elements.icon=h.createElement("span",{"class":n.icon}).inject(n.elements.container,"top")}function l(n){n.elements.icon&&n.elements.icon.destroy();n.elements.icon=h.createElement("span",{"class":"fonticon fonticon-"+n.fonticon}).inject(n.elements.container,"top")}if(m){if(h.is(k.text)&&m.text!==k.text){m.text=k.text;m.elements.container.getElement(".item-text").setText(k.text)}j=m.elements.container.getElement("."+this.templateClassname);if(h.is(k.template)&&j){j.setHTML(k.template)}if(h.is(k.name)&&m.name!==k.name){m.name=k.name}if(h.is(k.title)&&m.title!==k.title){m.title=k.title;m.elements.container.title=k.title}if(h.is(k.fonticon)&&m.fonticon!==k.fonticon){m.fonticon=k.fonticon;l(m)}else{if(h.is(k.icon)&&m.icon!==k.icon){m.icon=k.icon;i(m)}}if(h.is(k.disabled)){m.elements.container.toggleClassName("disabled",k.disabled)}if(h.is(k.className)&&m.className!==k.className){m.elements.container.removeClassName(m.className);m.elements.container.addClassName(k.className);m.className=k.className;if(c(k.className)){m.elements.container.removeClassName("item")}else{m.elements.container.addClassName("item")}}if(h.is(k.handler)){m.handler=k.handler}}},enableItem:function(j){var i=this.getItem(j);i&&i.elements.container.removeClassName("disabled");return this},disableItem:function(j){var i=this.getItem(j);i&&i.elements.container.addClassName("disabled");return this},getItem:function(o){var m,j,k,n=false;for(m=0,j=this.items.length;m<j;m+=1){n=this.items[m];if(o&&o.nodeType){k=o.hasClassName("item")?o:o.getParent();if(n.id===k.id){break}}else{if(m===o||n.id===o||n.name===o){break}}n=false}return n},_hoverItem:function(k,i){var j=this.getItem(k);if(j){i=(i===undefined)?(true):i;if(i){j.elements.container.addClassName("js-selected");this.options.kb&&j.elements.container.focus()}else{j.elements.container.removeClassName("js-selected")}}},_updateKeyboardIndex:function(l,i){var n=i||this.keyboardIndex,j=this.keyboardIndex,k=false,m;if(n===-1&&l!=="reset"){n=0;k=true}else{if(l==="down"&&n<this.items.length-1){n=n+1;k=true}else{if(l==="up"&&n>0){n=n-1;k=true}else{if(l==="reset"){k=true;this._hoverItem(n,false);n=-1}else{if(!l){k=true}}}}}m=this.getItem(n);if(m&&c(m.elements.container.className)){k=false;if(l==="down"||l==="up"){this._updateKeyboardIndex(l,n)}}if(k&&n>=0){this._hoverItem(j,false);this._hoverItem(n);this.keyboardIndex=n}},toggleSelection:function(i){this.select(i,!i.selected)},select:(function(){var i=function(k,j){k.selected=j;k.elements.container[j?"addClassName":"removeClassName"]("selected")};return function(l,k){var m,j=!this.options.multiSelect;if(k===undefined||k===true){if(j){m=this.items.filter(function(n){return n.selected});m[0]&&i(m[0],false)}i(l,true)}else{if(j&&l.selected){return}i(l,false)}}}())};return g.extend(d)});define("DS/UIKIT/Core",[],function(){var b=true,c=Array.prototype.slice,a={log:function(){if(!b){return}if(window.console){if(typeof(console.log)==="function"){console.log.apply(console,c.call(arguments))}else{if(typeof(console.log)==="object"){console.log(c.call(arguments))}}}else{if(window.opera&&typeof(opera.postError)==="function"){opera.postError.apply(null,c.call(arguments))}}}};return a});define("DS/UIKIT/Mask",["UWA/Core","DS/UIKIT/Spinner","i18n!DS/UIKIT/assets/nls/UIKIT"],function(d,a,b){var c={mask:function(f,g){var e;if(this.isMasked(f)){this.unmask(f)}f.addClassName("masked");e=d.createElement("div",{"class":"mask"});g=d.is(g,"string")?g:b.loading;g=d.createElement("div",{"class":"mask-wrapper",html:{tag:"div","class":"mask-content",html:[new a({visible:true,animate:true,spin:true}),d.createElement("span",{"class":"text",text:g})]}}).inject(e);e.inject(f)},unmask:function(f){var e=f.getElement(" > .mask");if(e){e.destroy()}f.removeClassName("masked")},isMasked:function(e){return e.hasClassName("masked")}};return c});define("DS/UIKIT/Popover",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","DS/UIKIT/Tooltip"],function(f,b,a,e,d){var c={_positions:["top","right","bottom","left"],name:"popover",defaultOptions:{position:"right",trigger:"click"},init:function(g){this._parent(g);this._needsPositionAdjusment=true;this.shouldListenForScroll=true},buildSkeleton:function(){var h=f.createElement,i=this.elements,g=this.options;if(i.container){return}i.container=h("div",{"class":this.name+" "+g.className+" "+g.position});h("div",{"class":this.name+"-arrow"}).inject(i.container);if(g.title){this.setTitle(g.title)}i.body=h("div",{"class":this.name+"-body",html:g.body||""}).inject(i.container);if(g.animate){i.container.addClassName("fade")}this.handleEvents();g.body=null},getTitle:function(){var g=this.elements;if(!g.title){g.title=f.createElement("h3",{"class":this.name+"-title"}).inject(g.container)}return g.title},setTitle:function(g){this.getTitle().setText(g);this.isVisible&&this.updatePosition(this._lastValidPosition);return this}};return d.extend(c)});define("DS/UIKIT/Alert",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/Abstract","DS/UIKIT/Core"],function(f,b,a,d,e){var c={name:"alert",defaultOptions:{className:"",messageClassName:"alert-primary",animate:true,closable:true,visible:false,hideDelay:2000,autoHide:false,closeOnClick:true,icon:true,maximumVisibleMessages:5,fullWidth:false,attributes:{}},isVisible:false,messages:null,hidingIntervalId:null,init:function(g){var h=g||{};this._parent(h);this.messages=[];this.buildSkeleton();this.add(this.options.messages);if(h.renderTo){this.inject(h.renderTo);delete this.options.renderTo}},buildSkeleton:function(){var g=this.elements;if(g.container){return}g.container=f.createElement("div",{"class":this.getClassNames(),events:{click:this.eventHandler.bind(this)}});Object.keys(this.options.attributes).forEach(function(h){g.container.setAttribute(h,this.options.attributes[h])},this);if(this.options.fullWidth){g.container.addClassName(this.name+"-fullwidth")}},add:function(h){var g=this;h=d.splat(h);h.forEach(function(i){g.messages.push(i)});if(this.elements.container.isInjected()){this.showMessages()}return this},toggleAutoHide:function(g,h){var i=this;if(g&&h){this.hidingIntervalId=setTimeout(function(){i.remove(h)},i.options.hideDelay)}else{clearInterval(this.hidingIntervalId)}},createMessage:function(h){var n,p,o,k,q=this,r=100,g=this.elements,t=this.options,m=this.getMessages(),j=0,s=t.messageClassName||"";if(m.length>0){r=m[m.length-1].getStyle("z-index")-1}if(h&&h.className){s=h.className}s=s.split(" ");for(o=0,k=s.length;o<k;o++){p=s[o].match(/(alert-)?(primary|warning|error|success|default|info)$/);if(p&&!p[1]){if(s[o]==="default"||s[o]==="info"){s[o]="primary"}s[o]="alert-"+s[o];break}}s=s.join(" ");n=f.createElement("div",{"class":this.name+"-message "+s,html:h.message?h.message:h,styles:{zIndex:r}});if(typeof h.attributes==="object"){Object.keys(h.attributes).forEach(function(i){n.setAttribute(i,h.attributes[i])})}if(t.animate){n.addClassName("fade")}if(t.closable||true){n.addClassName(this.name+"-closable");f.createElement("span",{"class":"close fonticon fonticon-cancel"}).inject(n,"top")}if(t.icon){n.addClassName(this.name+"-has-icon");f.createElement("span",{"class":"icon fonticon"}).inject(n,"top")}m.forEach(function(i){j+=i.getDimensions().outerHeight});n.inject(g.container);setTimeout(function(){n.setStyle("top",Math.round(j));if(t.animate){n.addClassName("in")}if(t.autoHide){q.toggleAutoHide(true,n);n.addEvents({mouseover:q.toggleAutoHide.bind(q,false),mouseleave:q.toggleAutoHide.bind(q,true,n)})}},10);this.dispatchEvent("onShowMessage",n)},getMessages:function(){return this.getContent().getElements("."+this.name+"-message")},showMessages:function(){var g=this,h=this.getMessages().length;if(this.isVisible&&h<this.options.maximumVisibleMessages){this.messages=this.messages.filter(function(k,j){if(k){if(h+j+1>g.options.maximumVisibleMessages){return true}else{g.createMessage(k)}}})}},updateMessages:function(){var g=this.getMessages(),h=0;g.forEach(function(k){var i=h,j=k.getDimensions();h+=j.outerHeight;k.setStyles({top:Math.round(i)})});if(g.length<this.options.maximumVisibleMessages){this.showMessages()}},onPostInject:function(){this.showMessages();if(this.options.visible||this.isVisible){this.isVisible=false;this.show()}},remove:function(i){var h=this;function g(j){h.dispatchEvent("onRemoveMessage",j);j.destroy();h.updateMessages()}if(this.options&&this.options.animate){i.removeClassName("in");setTimeout(g.bind(this,i),500)}else{g(i)}return this},eventHandler:function(i){var j=a.getElement(i),g=this.name+"-message",h;h=j.hasClassName(g)?j:j.getClosest("."+g);if(h){if(this.options.closeOnClick){this.dispatchEvent("onClick",[i,h]);this.remove(h)}else{if(j.hasClassName("close")||j.getParent().hasClassName("close")){this.remove(h)}else{this.dispatchEvent("onClick",[i,h])}}}},toggle:function(){return this[this.isVisible?"hide":"show"]()},show:function(){var g=this.elements;if(!g){return}if(!this.isVisible){this.isVisible=true;if(g.container.isInjected()){g.container.setStyle("visibility","visible");this.showMessages();this.dispatchEvent("onShow")}}return this},hide:function(){var g=this.elements;if(!g){return}if(this.isVisible){this.isVisible=false;if(g.container.isInjected()){g.container.setStyle("visibility","");this.dispatchEvent("onHide")}}return this},destroy:function(){if(this.options){this.options.animate=false}this.hide();this._parent();this.elements=null}};return e.extend(c)});define("DS/UIKIT/DropdownMenu",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","DS/UIKIT/Dropdown","DS/UIKIT/Menu"],function(g,c,p,l,n,k){var j="dropdown-menu",h="dropdown-menu-hidden",b="item",o="item-back",m="item-submenu",q="item-template",i=k.extend({name:j,templateClassname:q});function f(u,t,s,r){if(t.addEventListener){t.addEventListener(u,s,r)}else{if(t.attachEvent){t.attachEvent("on"+u,s,r)}}}function d(s,t,r){Object.keys(s).forEach(function(u){f(u,t,s[u],r)})}var e=(function(){var r=/^(header|divider|disabled)$/;return function(t){if(!t){return false}var u=t.split(" ");for(var s=0;s<u.length;s++){if(r.test(u[s])){return true}}return false}}());var a={name:j,items:null,menus:null,activeMenu:null,defaultOptions:{subMenuMaxDepth:20,responsiveMode:true},init:function(r){this.menus=[];this.items=[];r=r||{};if(r.kb==null){r.kb=true}this.setupTemplates(r);this._parent(r)},buildSkeleton:function(){var t=this.elements,s=this.options,r;if(t.container){return}r=this.addMenu(s.items,0,null,s.multiSelect);t.container=r.elements.container;t.container.className=this.getClassNames();this._handleEvents()},addMenu:function(s,x,r,w){var u=[],t=[],v;v=new i({kb:this.options.kb,multiSelect:w,items:s,attributes:this.options.attributes});v.position=r||"bottom right";this.menus.push(v);s.forEach(function(z,y){if(z.items&&x<this.options.subMenuMaxDepth){u.push(this.addMenu(z.items,x+1,z.position,z.multiSelect));t.push(y)}},this);this.items=this.items.concat(v.items);if(u.length){u.forEach(function(B,y){var A=v.getItem(t[y]),C,z;B.inject(A.elements.container);A.elements.container.addClassName(m);z=g.createElement("span",{"class":"divider"});C=g.createElement("div",{"class":"next-icon"});C.inject(A.elements.container);z.inject(C);g.createElement("span",{"class":"fonticon fonticon-right-open"}).inject(C);B.parentItem=A})}return v},setupTemplates:function(r){this.template={};this.template.getItem=function(s){var t;if(s.hasClassName(b)){return s}else{t=s.getParent("."+b);return t}};g.extend(this.template,r.template)},addItem:function(r){var s=this;l.splat(r).forEach(function(t){s._addItem(t)});return this},_getSubmenuForItem:function(s){var r=this.getItem(s);return r&&this._getMenuFromParentItem(r.id)},_addBackItem:function(r){var s;if(r.parentItemId){s=this._getSubmenuForItem(r.parentItemId);s&&s.addBackItem(r)}},_addItem:function(s){var w=this,v,t,r;function u(A,y,B){var x=w.addMenu(y,0,null,B),z,C;x.inject(A.elements.container);A.elements.container.addClassName(m);z=g.createElement("span",{"class":"divider"});C=g.createElement("div",{"class":"next-icon"});C.inject(A.elements.container);z.inject(C);g.createElement("span",{"class":"fonticon fonticon-right-open"}).inject(C);x.parentItem=A;w.updatePosition();return x}if(s.parentItemId){t=w._getSubmenuForItem(s.parentItemId);if(t){if(s.items){if(s.text||s.name){v=t._addItem(s);v&&this.items.push(v);v&&u(v,s.items,s.multiSelect)}else{s.items.forEach(function(x){w.items.push(t._addItem(x))})}}else{this.items.push(t._addItem(s))}}else{r=this.getItem(s.parentItemId);if(!r){return}if(s.items&&(s.text||s.name)){t=u(r,[s],s.multiSelect)}else{u(r,s.items||[s],s.multiSelect)}}}else{t=this.menus[0];if(s.items){r=t._addItem(s);r&&this.items.push(r);r&&u(r,s.items,s.multiSelect)}else{this.items.push(t._addItem(s))}}},removeItem:function(s){var r=this;l.splat(s).forEach(function(t){r._removeItem(t)});return this},_removeItem:function(u){var s=this,r=this.getItem(u),t;if(!r){return}t=this._getMenuFromParentItem(r.id);if(t){this.items=this.items.filter(function(w){var v=s._getMenuFromItem(w.id);if(v&&((!v.parentItem)||v.parentItem&&v.parentItem.id!==u)){return true}else{t.removeItem(w);return false}});this.menus.splice(this.menus.indexOf(t),1);t.destroy()}t=this._getMenuFromItem(r.id);t&&t.removeItem(u);this.items.splice(this.items.indexOf(r),1)},updateItem:function(r){var s=this;l.splat(r).forEach(function(t){s._updateItem(t)});return this},_updateItem:function(r){var t,s;s=this.getItem(r.id);if(s){t=this._getMenuFromItem(s.id);r.id=s.id;t&&t.updateItem(r)}},enableItem:function(s){var r=this.getItem(s);r&&r.elements.container.removeClassName("disabled");return this},disableItem:function(s){var r=this.getItem(s);r&&r.elements.container.addClassName("disabled");return this},getItem:function(v){var t,r,s,u=false;for(t=0,r=this.items.length;t<r;t++){u=this.items[t];if(v&&v.nodeType){s=v.hasClassName(b)?v:v.getParent();if(u.id===s.id){break}}else{if(t===v||u.id===v||u.name===v){break}}u=false}return u},updatePosition:(function(){var t,s;function r(C){var u="right",D="bottom",w=D+"-"+u,v=C.getContent(),A=v.getSize(),B,z;t.options.responsiveMode&&t.setNonResponsiveMode(C);if(C._position){v.removeClassName(C._position)}v.addClassName(w);B=v.getPosition(t.getContent());z=v.getPosition();if(t._position.offsets.x+B.x+A.width>t._position.viewportWidth||(C.position&&C.position.indexOf("left")>-1)&&t._position.offsets.x+B.x-z.x-A.width>0){u="left"}if(t._position.offsets.y+B.y+A.height>t._position.viewportHeight+t._position.scrollTop||(C.position&&C.position.indexOf("top")>-1)&&t._position.offsets.y+B.y-z.y-A.height>t._position.scrollTop){D="top"}C._position=D+"-"+u;if(t.options.responsiveMode&&((t._position.offsets.x+B.x+A.width>t._position.viewportWidth&&t._position.offsets.x-A.width<0)||s)){t.setResponsiveMode(C,s);if(!s){return true}}if(w!==C._position){v.removeClassName(w);v.addClassName(C._position)}}return function(y,w){t=this;s=w||this.options.forceResponsive;this._parent(y);if(!this.isVisible||this.menus.length<=1){return}this.getContent().addClassName("js-visible");for(var v=1,u=this.menus.length;v<u;v++){var x=r(this.menus[v]);if(x){break}}this.getContent().removeClassName("js-visible")}}()),setNonResponsiveMode:function(s){var r=s.parentItem&&this._getMenuFromItem(s.parentItem.id);s.removeBackItem();r&&r.getContent().removeClassName("responsive-menu");if(s.parentItem&&!s.parentItem.elements.container.getElement(".dropdown-menu")){r.elements.container.removeChild(s.elements.container);s.inject(s.parentItem.elements.container)}},setResponsiveMode:function(t,s){var r=this._getMenuFromItem(t.parentItem.id);t._position="dropdown-menu-responsive-wrap responsive-menu";if(t._position==="dropdown-menu-responsive-wrap responsive-menu"){!r.getContent().hasClassName("responsive-menu")&&r.getContent().addClassName("responsive-menu")}if(!s){this.updatePosition(null,true)}else{r=this._getMenuFromItem(t.parentItem.id);if(!t.backItem){this._addBackItem({text:t.parentItem.text,fonticon:"left-open",className:o,index:1,parentItemId:t.parentItem.id})}if(t.parentItem.elements.container.getElement(".dropdown-menu")){t.parentItem.elements.container.removeChild(t.elements.container);t.inject(r.elements.container)}}},show:function(s,t){var r;if(this.items.length){r=this._parent(s,t);this.activeMenu=this.menus[0];this.activeMenu.keyboardIndex=-1;this.activeMenu.focusIt();this.usingKeyboard=false;return r}},hide:function(r){this._hideSubmenus();return this._parent(r)},_getMenu:function(u){var s,r,t=false;for(s=0,r=this.menus.length;s<r;s++){t=this.menus[s];if(u&&u.nodeType&&t.elements.container===u){break}else{if(s===u||t.id===u||t.name===u){break}}t=false}return t},_getMenuFromItem:function(r){return this.menus.filter(function(s){return s.getItem(r)})[0]},_getMenuFromBackItem:function(r){return this.menus.filter(function(s){return(s.backItem&&s.backItem.id===r)})[0]},_getMenuFromParentItem:function(r){return this.menus.filter(function(s){return(s.parentItem&&(s.parentItem.id===r||s.parentItem.name===r||s.parentItem.value===r))})[0]},_hideSubmenus:(function(){var s,v,r,t;function u(w){if(!w){return}w.items.forEach(function(x){x=x.elements&&x.elements.container;if(x&&x.hasClassName(m)){v=s._getMenuFromParentItem(x.id);x.removeClassName("js-selected");v&&v._updateKeyboardIndex("reset");v&&v.hide();u(v)}})}return function(y){s=this;if(this.menus.length<=1){this.menus[0].items.forEach(function(z){z=z.elements&&z.elements.container;z.removeClassName("js-selected")});return}if(y){u(s._getMenuFromItem(y))}else{this.menus[0].elements.container.removeClassName(h);for(var x=1,w=this.menus.length;x<w;x++){v=this.menus[x];r=v.parentItem&&this.getItem(v.parentItem.id);r&&r.elements.container.removeClassName("js-selected");t=v.backItem;if(t&&t.elements.container.hasClassName(o)){this._hideResponsiveMenu(v,this._getMenuFromItem(v.parentItem.id))}else{v.hide()}}}}}()),_handleItemSelection:function(s,u){var t,r;this.timeoutId&&clearTimeout(this.timeoutId);if(s.hasClassName(m)||s.hasClassName(q)){t=this._getMenuFromParentItem(s.id);if(t&&!t.isVisible){this._hideSubmenus(s.id);t=this._getMenuFromParentItem(s.id);!u&&s.addClassName("js-selected");t&&t.show();r=this._getMenuFromItem(t.parentItem.id);if(t.elements.container.hasClassName("dropdown-menu-responsive-wrap")){r.elements.container.addClassName(h)}this.activeMenu=t}}else{if(s.hasClassName(o)){t=this._getMenuFromBackItem(s.id);r=this._getMenuFromItem(t.parentItem.id);this._hideResponsiveMenu(t,r)}else{if(s.hasClassName(b)){this._hideSubmenus(s.id)}}}},_hideResponsiveMenu:function(s,r){s&&s.hide();r&&r.elements.container.removeClassName(h);this.activeMenu=r},_handleItemClick:function(r,A){var w=p.getElement(r),u=g.Utils.Client.Features.touchEvents,y=false,v=w.classList.contains("next-icon")||w.parentElement.classList.contains("next-icon"),x,t,s,z;if(!A){A=this.template.getItem(w);if(!A){return}x=A.classList.contains(o);if(x){s=this._getMenuFromBackItem(A.id?A.id:A);A=s.backItem}else{A=this.getItem(A.id?A.id:A)}}if(A&&!e(A.elements.container.className)){if(!s){s=this._getMenuFromParentItem(A.id)||this._getMenuFromItem(A.id)}z=s&&s._position&&s._position.contains("dropdown-menu-responsive-wrap");t=s&&s.getContent().hasClassName("responsive-menu");if(A.selectable){if(t&&(!w.classList.contains("next-icon")&&!w.parentElement.classList.contains("next-icon"))||!t){A.toggleSelection()}}if(u||x||z){if((x&&w.classList.contains("fonticon"))||(t&&v)||(!x&&!t)){this._handleItemSelection(A.elements.container,v)}y=(A.elements.container.hasClassName(m)&&v)||x}this.dispatchEvent("onClick",[r,A,y],this);if(g.is(A.handler,"function")){A.handler.call(this,r)}}},_handleEvents:function(){var s=this,r=this.options;this.events.container={click:function(t){s._handleItemClick(t)},mouseleave:this.dispatchEvent.bind(this,"onMouseLeave"),mouseover:function(v){var w=p.getElement(v),x=s._getMenuFromParentItem(w.id),t,u;if(!w.hasClassName(o)&&!(x&&x._position.contains("dropdown-menu-responsive-wrap"))){!s.usingKeyboard&&s._handleItemSelection(w)}if(s.options.responsiveMode){u=w.parentElement.hasClassName("next-icon")?w.parentElement.parentElement:w.parentElement;x=s._getMenuFromItem(u.id);u=x&&x.getItem(u.id);t=x&&x.getContent().hasClassName("responsive-menu");if(u){if(t&&(w.classList.contains("next-icon")||w.parentElement.classList.contains("next-icon"))&&!u.elements.container.classList.contains("selected")){u.elements.container.addClassName("js-not-selectable");u.elements.container.removeClassName("js-selected")}}}},mouseout:function(v){var w=p.getElement(v),x=w&&s._getMenuFromParentItem(w.id),u,t;if(!s.usingKeyboard&&!w.hasClassName(o)&&!(x&&x._position.contains("dropdown-menu-responsive-wrap"))&&!(s.elements.container.classList.contains("dropdown-menu-hidden"))){s.timeoutId=setTimeout(s._hideSubmenus.bind(s),500)}if(s.options.responsiveMode){u=w.parentElement.hasClassName("next-icon")?w.parentElement.parentElement:w.parentElement;x=s._getMenuFromItem(u.id);u=x&&x.getItem(u.id);t=x&&x.getContent().hasClassName("responsive-menu");if(u){if(t&&(w.classList.contains("next-icon")||w.parentElement.classList.contains("next-icon"))){u.elements.container.removeClassName("js-not-selectable")}}}}};if(r.kb){this.events.container.keydown=function(y){var z,x,w,v;s.usingKeyboard=true;function t(){s.activeMenu.hide();v=s.activeMenu.getContent().hasClassName("dropdown-menu-responsive-wrap");x=s.activeMenu.parentItem&&s._getMenuFromItem(s.activeMenu.parentItem.id);if(x){if(v){s._hideResponsiveMenu(s.activeMenu,x)}s.activeMenu._updateKeyboardIndex();s.activeMenu=x;s.activeMenu.focusIt()}}function u(){z=s._getActiveItem();if(z){z=z.elements.container;s._handleItemSelection(z)}s.activeMenu._updateKeyboardIndex()}switch(y.which){case 13:z=s._getActiveItem();if(z){s._handleItemClick(y,s._getActiveItem())}if(s.options.closeOnClick){s.hide();r.target.focus()}g.Event.preventDefault(y);break;case 27:s.hide();r.target.focus();g.Event.preventDefault(y);break;case 37:w=s.activeMenu.elements.container;z=s._getActiveItem();if(w.hasClassName("bottom-left")||w.hasClassName("top-left")){z&&z.elements.container.hasClassName("item-submenu")&&u()}else{t()}g.Event.preventDefault(y);break;case 38:s.activeMenu._updateKeyboardIndex("up");g.Event.preventDefault(y);break;case 39:w=s.activeMenu.elements.container;z=s._getActiveItem();if(w.hasClassName("bottom-left")||w.hasClassName("top-left")){t()}else{z&&z.elements.container.hasClassName("item-submenu")&&u()}g.Event.preventDefault(y);break;case 40:s.activeMenu._updateKeyboardIndex("down");g.Event.preventDefault(y);break;default:g.Event.preventDefault(y);break}}}this.elements.container.addEvents(this.events.container);if(r.contextual){this.events.target={mousedown:function(t){var v=p.getElement(t),u=g.Event.whichButton(t)===2;if(!v.isInjected(this.elements.container)&&v!==this.elements.container){if(u&&this.isVisible){this.updatePosition(t)}}}.bind(this),contextmenu:function(t){this.show(true,t);p.stop(t)}.bind(this)};d(this.events.target,r.target,true)}else{if(r.bound){this.events.target={click:this.toggle.bind(this)};d(this.events.target,r.target,true)}}},_getActiveItem:function(){var r=this.activeMenu.keyboardIndex;if(this.activeMenu&&r>=0){return this.activeMenu.getItem(r)}else{return false}},getSelectedItems:function(){var r=[];if(this.items){r=this.items.filter(function(s){return s.selected})}return r},isSelected:function(s){var r=this.getItem(s);return r&&r.selected},toggleSelection:function(r){r&&r.selectable&&r.toggleSelection()}};return n.extend(a)});define("DS/UIKIT/Native/Dropdown",["UWA/Event","UWA/Utils","DS/UIKIT/DropdownMenu","DS/CefCommunication/CefCommunication"],function(a,e,b,d){var c=["command","checkbox","radio","separator"],h=[];function g(i){return function(j){if(!j.menuId){return}d.dispatchEvent(i+"-"+j.menuId,j)}}if(!d.hasEvent("exitMenu")){d.addNativeEventListener("exitMenu",g("exitMenu"));d.addNativeEventListener("commandFacet",g("commandFacet"))}var f={id:"",defaultOptions:{bound:true},init:function(i){i||(i={});this.id=i.id||"mnu-"+e.getUUID().substr(0,6);this._parent(i);this.options.contextual&&h.push(this)},show:function(i,j){if(this.options.contextual&&h.length>0){h.forEach(function(k){k.hide()})}this._parent(i,j);if(d.isAvailable()){this.elements.container.setStyle("display","none");d.dispatchEventToNative("displayMenu",this.getNativeModel())}},hide:function(i){this._parent(i);if(d.isAvailable()){this.elements.container.setStyle("display","")}},_handleEvents:function(){this._parent();function i(k){var l=a.getElement(k),j;if(!l&&k.menuId&&k.id){l=k.id}if(!l){return}j=this.getItem(l);if(j){this.dispatchEvent("onClick",[k,j],this);if(d.isAvailable()&&j.nativeHandler){j.nativeHandler.call(this,k)}else{if(typeof j.handler==="function"){j.handler.call(this,k)}}this.hide()}}this.elements.container.removeEvent("click",this.events.container.click);this.elements.container.addEvent("click",i.bind(this));if(d.isAvailable()){d.addNativeEventListener("exitMenu-"+this.id,this.hide.bind(this));d.addNativeEventListener("commandFacet-"+this.id,i.bind(this))}},getNativeModel:function(){if(!this.menus.length){return}var j={menuId:this.id,children:[]};function i(k,l){var m,n;k.forEach(function(o){m={};m.id=o.id;m.type=c.indexOf(o.type)!==-1?o.type:c[0];m.label=o.text;o.data&&(m.catcommand=o.data);o.icon&&(m.icon=o.icon);o.disabled!=null&&(m.disabled=o.disabled);o.title&&(m.title=o.title);if(o.items&&m.type==="command"){n=this._getMenuFromParentItem(o.id);m.children=[];i.call(this,n.items,m.children)}l.push(m)}.bind(this))}i.call(this,this.menus[0].items,j.children);return j},destroy:function(){d.removeNativeEventListener("exitMenu-"+this.id);d.removeNativeEventListener("commandFacet-"+this.id);if(this.options.contextual&&h.length>-1){this.options.contextual&&h.splice(h.indexOf(this),1)}this._parent()}};return b.extend(f)});define("DS/UIKIT/Iconbar",["UWA/Core","UWA/Event","UWA/Utils","UWA/Controls/Abstract","DS/UIKIT/Menu","DS/UIKIT/Tooltip","DS/UIKIT/DropdownMenu"],function(e,m,h,f,g,j,a){var d=e.Utils.Client.Features.touchEvents;function l(o,q,n){var p;return function(){var u=this,t=arguments,s,r=function(){p=null;if(!n){o.apply(u,t)}};s=n&&!p;clearTimeout(p);p=setTimeout(r,q);if(s){o.apply(u,t)}}}var k=(function(){var n=/^(divider)$/;return function(p){var q,o;if(!p){return false}q=p.split(" ");for(o=0;o<q.length;o++){if(n.test(q[o])){return true}}return false}}());var c=g.extend({name:"iconbar-items"});var i=a.extend({show:function(){document.body.style.overflow="hidden";this._parent();document.body.style.overflow="auto"}});var b=f.extend({name:"iconbar",menu:null,overflowMenu:null,overflowMenuTrigger:null,init:function(n){var o=this;this._parent(n);this.buildSkeleton();this.handleEvents();this.show();if(window.MutationObserver){this._injectionObserver=new MutationObserver(function(p){var q=p.some(function(r){return o.isInjected()||Array.prototype.indexOf.call(r.addedNodes,o.elements.container)!==-1});q&&o.show()});this._injectionObserver.observe(document.body,{childList:true,subtree:true})}},buildSkeleton:function(){var o=this.elements,n=this.options;if(o.container){return}this.menu=new c({});this.addItem(n.items);o.container=this.menu.elements.container;o.container.className=this.getClassNames();if(n.renderTo&&n.renderTo.nodeType===1){o.container.inject(n.renderTo);delete n.renderTo}},buildOverflowMenu:function(){var o=[],p,n;if(!this.overflowMenuTrigger){this.overflowMenuTrigger=e.createElement("li",{"class":this.name+"-overflow-menu-trigger item",html:{tag:"span","class":"fonticon fonticon-menu-dot"}})}this.overflowMenu&&this.overflowMenu.destroy();this.overflowMenu=null;this.menu.items.forEach(function(q){if(q.content&&q.content.type==="dropdown"){return}n=true;p={className:(q.id+" "+(q.className?q.className:"")).trim(),fonticon:q.fonticon,text:q.text,handler:q.handler};if(q.content&&q.content.options.items&&q.content.type!=="icondropdown"){p.items=q.content.options.items.map(function(r){r.className=(q.id+" "+(r.className?r.className:"")).trim();r.selectable=true;return r})}else{if(q.content&&q.content.type==="icondropdown"){n=false;q.content.options.items&&q.content.options.items.forEach(function(r){o.push({className:(q.id+" "+(r.className?r.className:"")).trim(),fonticon:r.fonticon,icon:r.icon,handler:r.handler,text:r.description})})}}n&&o.push(p)});this.overflowMenu=new i({items:o,target:this.overflowMenuTrigger})},getItem:function(r){var p,n,o,q=false;for(p=0,n=this.menu.items.length;p<n;p++){q=this.menu.items[p];if(r&&r.nodeType){o=r.hasClassName("item")?r:r.getParent();if(q.id===o.id){break}}else{if(p===r||q.id===r||q.name===r){break}}q=false}return q},handleEvents:function(){this.events={container:{click:function(n){var p=m.getElement(n),o=this.getItem(p);if(o){if(o.content){window.requestAnimationFrame?window.requestAnimationFrame(this.displayContent.bind(this,o)):this.displayContent(o)}if(o.tooltip&&o.tooltip.isVisible&&!d){o.tooltip.hide()}this.dispatchEvent("onClick",[n,o],this);if(typeof o.handler==="function"){o.handler.call(this,n,o)}}}.bind(this)}};this.elements.container.addEvents(this.events.container);this.events.window={resize:l(this.resize,100).bind(this)};window.addEventListener("resize",this.events.window.resize)},addItem:function(n){h.splat(n).forEach(function(o){this._addItem(o)},this);this.buildOverflowMenu();return this},_addItem:function(n){var o=this.menu._addItem(n);o.content=o.innerComponent||o.content;if(!k(n.className)&&o.text){o.tooltip=new j({target:o.elements.container,body:o.text,trigger:o.tooltipTrigger||this.options.tooltipsTrigger||"hover focus"});o.elements.container.getElement(".item-text").remove()}},isOverflowing:function(){return this.menu.items.some(function(n){return !n.elements.container.isInViewport(this.elements.container,true,true)},this)},isInjected:function(){if(!this.elements){return}if(!this.elements.container){return}return this.elements.container.isInjected()},resize:(function(){function o(){var p=this.elements.container.getBoundingClientRect();return this.menu.items.filter(function(r){var q=r.elements.container.getBoundingClientRect();return(q.top+q.height>p.bottom)||(q.left+q.width>p.right)},this)}function n(p){var q;this.overflowMenu.items.forEach(function(r){q=p.some(function(s){if(!r.className){return false}return r.className&&r.className.indexOf(s)!==-1});q?r.elements.container.removeClassName("hidden"):r.elements.container.addClassName("hidden")})}return function(){var p,q;this.overflowMenuTrigger&&this.overflowMenuTrigger.isInjected()&&this.overflowMenuTrigger.remove();if(this.overflowMenu.isVisible){this.overflowMenu.hide()}if(this.elements.container&&!this.isOverflowing()){return}p=o.call(this);q=p.map(function(r){return r.id});n.call(this,q);if(p.length){this.menu.elements.wrapper.insertBefore(this.overflowMenuTrigger,p[0].elements.container);while(!this.overflowMenuTrigger.isInViewport(this.elements.container,true,true)&&this.overflowMenuTrigger.previousSibling){this.menu.elements.wrapper.insertBefore(this.overflowMenuTrigger,this.overflowMenuTrigger.previousSibling);p.push(this.overflowMenuTrigger.nextSibling);this.overflowMenuTrigger.nextSibling.id&&q.push(this.overflowMenuTrigger.nextSibling.id);n.call(this,q)}}}}()),displayContent:function(o){var n=e.clone(o.content.options);n.target=o.elements.container;if(!o.content.created){if(o.content.type==="dropdown"){require(["DS/UIKIT/Dropdown"],function(p){o.content.component=new p(n).show()})}else{if(o.content.type==="icondropdown"){require(["DS/UIKIT/IconDropdown"],function(p){o.content.component=new p(n).show()})}else{if(o.content.type==="dropdownmenu"){o.content.component=new a(n).show()}else{return}}}o.content.created=true}else{o.content.component&&o.content.component.show()}},select:function(){var n=arguments,q,p,r,o;if(n[0]===undefined||n[0]===null){return}p=(n[1]===undefined)?true:n[1];p&&Array.prototype.slice.call(this.elements.container.querySelectorAll(".item-active")).forEach(function(s){s.removeClassName&&s.removeClassName("item-active")});p&&this.overflowMenu.getSelectedItems().forEach(function(s){this.overflowMenu.menus[0].toggleSelection(s);s.elements.container.removeClassName("selectable")},this);q=this.getItem(n[0]);if(!q||q.elements.container.hasClassName("divider")){return}q.elements.container[p?"addClassName":"removeClassName"]("item-active");r=q.elements.container.id;o=this.overflowMenu.items.filter(function(s){return s.elements.container.hasClassName(r)});if(o.length===1){this.overflowMenu.menus[0].toggleSelection(o[0]);o[0].elements.container.addClassName("selectable")}},show:function(){if(!this.isInjected()){return}this._injectionObserver&&this._injectionObserver.disconnect();this._injectionObserver=null;this._parent();if(window.requestAnimationFrame){window.requestAnimationFrame(this.resize.bind(this))}else{this.resize()}},destroy:function(){window.removeEventListener("resize",this.events.window.resize);this.overflowMenu&&this.overflowMenu.destroy();this.overflowMenuTrigger&&this.overflowMenuTrigger.destroy();this.elements.container.removeEvents(this.events.container);this.menu.items.forEach(function(n){n.tooltip&&n.tooltip.destroy()});this._parent()}});return b});define("DS/UIKIT/IconDropdown",["UWA/Core","UWA/Event","DS/UIKIT/DropdownMenu","DS/UIKIT/Tooltip","DS/UIKIT/Menu"],function(d,j,a,i,g){var f=["parentItemId","position","items","title","text","selectable"];var c=(function(){var k=/^(header|divider|disabled)$/;return function(m){var n,l=0;if(!m){return false}n=m.split(" ");for(;l<n.length;l++){if(k.test(n[l])){return true}}return false}}());function e(n,m,l,k){if(m.addEventListener){m.addEventListener(n,l,k)}else{if(m.attachEvent){m.attachEvent("on"+n,l,k)}}}function b(l,m,k){Object.keys(l).forEach(function(n){e(n,m,l[n],k)})}var h={name:"icon-dropdown",_activeItem:null,init:function(k){this._parent(k)},buildSkeleton:function(){var l=this.elements,k=this.options,m;if(l.container){return}m=new g();m.position=k.position||"bottom right";this.menus.push(m);this.addItem(k.items);l.container=m.elements.wrapper;l.container.className=this.name;this.handleEvents()},handleEvents:function(){var l=this,k=this.options,m=this.elements;if(k.contextual){this.events.target={mousedown:function(n){var p=j.getElement(n),o=d.Event.whichButton(n)===2;if(!p.isInjected(this.elements.container)&&p!==this.elements.container&&o&&this.isVisible){this.updatePosition(n)}}.bind(this),contextmenu:function(n){this.show(false,n);j.stop(n)}.bind(this)};b(this.events.target,k.target,true)}else{if(k.bound){this.events.target={click:this.toggle.bind(this)};b(this.events.target,k.target,true)}}this.events.container={click:function(o){var p=j.getElement(o),n=l.getItem(p);if(n&&!c(n.elements.container.className)){if(n.tooltip&&n.tooltip.isVisible){n.tooltip.hide()}l._updateSelected(n);l.dispatchEvent("onClick",[o,n],l);if(typeof n.handler==="function"){n.handler.call(l,o,n)}}}};m.container.addEvents(this.events.container)},_addItem:function(k){var n=this,q=this.menus[0],m,p=d.clone(k),o,l;f.concat("selected").forEach(function(r){delete p[r]});m=q._addItem(p);o=m.elements.container.getElement(".item-text");o&&o.destroy();if(k.description){m.tooltip=new i({target:m.elements.container,body:m.description,position:"bottom"})}if(k.icon&&!k.fonticon){m.elements.iconActive=d.createElement("img",{src:k.iconActive?k.iconActive:k.icon,"class":"item-icon hidden"});m.elements.iconActive.inject(m.elements.container);l={mouseover:function(){if(!m.elements.container.hasClassName("selected")){n._toggleIcon(m,true)}},mouseleave:function(){if(!m.elements.container.hasClassName("selected")){n._toggleIcon(m)}}}}m.elements.container.addEvents(l);if(k.selected){this._updateSelected(m)}this.items.push(m)},_updateItem:function(k){var m=this.menus[0],l;l=this.getItem(k.id);if(l){f.concat("selected").forEach(function(n){delete k[n]});k.id=l.id;m&&m.updateItem(k);if(k.iconActive){l.iconActive=k.iconActive;l.elements.iconActive.setAttribute("src",k.iconActive)}if(k.description){if(l.tooltip){l.tooltip.setBody(k.description)}else{l.tooltip=new i({target:l.elements.container,body:l.description,position:"bottom"})}}}},_toggleIcon:function(l,k){if(!l||!l.elements.iconActive){return}if(k){l.elements.iconActive.removeClassName("hidden");l.elements.icon.addClassName("hidden")}else{l.elements.icon.removeClassName("hidden");l.elements.iconActive.addClassName("hidden")}},_updateSelected:function(k){if(this._activeItem===k){return}this._activeItem&&this._activeItem.elements.container.removeClassName("selected");this._toggleIcon(this._activeItem);this._activeItem=k;this._activeItem.elements.container.addClassName("selected")},getActiveItem:function(){return this._activeItem},setActiveItem:function(l){var k=this.getItem(l);if(k){this._updateSelected(k)}},updatePosition:function(n){this._parent(n);var k=this.options,o=this.elements,q,l,m,p;if(k.target&&!k.altPosition){q=k.target;l=q.offsetWidth;m=o.container.offsetWidth;p=this._position.offsets.x;o.container.setStyles({left:p+(l/2)-(m/2)+k.offset.x})}}};return a.extend(h)});define("DS/UIKIT/Input/Text",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","DS/UIKIT/Input"],function(g,c,b,f,e){function a(m){var k,h,j;if(!m){return}m=m.split(" ");for(k=0,h=m.length;k<h;k++){j=m[k].match(/xsmall|small|large$/);if(j&&!j[1]){if(j[0]==="small"){m[k]="input-sm"}else{if(j[0]==="large"){m[k]="input-lg"}else{if(j[0]==="xsmall"){m[k]="input-xs"}}}}}return m.join(" ")}var d={name:"form-control",defaultOptions:{className:"",multiline:false},init:function(h){h=h||{};if(h.className){h.className=a(h.className)}this._parent(h)},buildInput:function(){var h={},i=this.options,j=i.multiline?g.createElement("textarea"):g.createElement("input",{type:"text"});["placeholder","required","pattern","rows","maxlength"].forEach(function(k){if(i[k]){h[k]=i[k]}});j.set(h);return j},setFocus:function(h){this._parent(h);this.syncInput();return this},syncInput:function(){var j,i,h=this.elements.input,k=h.getAttribute("placeholder");if(k&&!f.Features.inputPlaceholder){j=this.getValue();i=h.getDocument().activeElement!==h&&!j;if(i!==h.hasClassName("placeholder")){h.toggleClassName("placeholder",i);h.set(h.getTagName()==="textarea"?"text":"value",i?k:j)}}},getValue:function(){if(this.elements.input.hasClassName("placeholder")){return""}return this._parent()},setClassName:function(h){this.options.className=a(h);this.getContent().className=this.getClassNames();return this}};return e.extend(d)});define("DS/UIKIT/Input/Button",["UWA/Core","UWA/Event","DS/UIKIT/Input","DS/UIKIT/DropdownMenu","i18n!DS/UIKIT/assets/nls/UIKIT"],function(g,c,f,d,e){function a(m){var k,h,j;if(!m){return}m=m.split(" ");for(k=0,h=m.length;k<h;k++){j=m[k].match(/large-icon|xsmall|small|large|default|primary|info|warning|error|success|link|block$/);if(j&&!j[1]){if(j[0]==="small"){m[k]="btn-sm"}else{if(j[0]==="large-icon"){m[k]="large-icon-btn"}else{if(j[0]==="large"){m[k]="btn-lg"}else{if(j[0]==="xsmall"){m[k]="btn-xs"}else{m[k]="btn-"+m[k]}}}}}}return m.join(" ")}var b={name:"btn",defaultOptions:{className:"btn-default",dropdownCaret:true,active:false},dropdown:null,init:function(h){h=h||{};if(h.className){h.className=a(h.className)}this._parent(h);this.options.active&&this.setActive(this.options.active);this.options.icon&&this.setIcon(this.options.icon);if(!h.value||h.value===""){this.elements.container.addClassName("btn-without-label")}},buildInput:function(){return g.createElement("button",{type:"button"})},onPostInject:function(){this.options.dropdown&&this.setDropdown(this.options.dropdown)},setDropdown:function(j,n){var k=this,h;function i(o){return function(){k.dispatchEvent.call(k,o,arguments)}}function m(){k.setActive(k.dropdown.isVisible);k.dispatchEvent.call(k,"onDropdownClick",arguments)}function l(){var p=c.getElement(arguments[0]),o=k.getContent();if(p!==o&&p.getParent()!==o){k.setActive(k.dropdown.isVisible)}k.dispatchEvent.call(k,"onDropdownClickOutside",arguments)}if(!this.events.dropdown){this.events.dropdown={onShow:i("onDropdownShow"),onHide:i("onDropdownHide"),onClick:m,onClickOutside:l,onMouseLeave:i("onDropdownMouseLeave")};this.events.dropdownButton={click:function(){k.setActive(k.dropdown.isVisible)}}}h={events:this.events.dropdown,target:this.getContent()};if(this.dropdown){this.dropdown.destroy()}if(n||(!g.is(n)&&this.options.dropdownCaret)){this.elements.caret=g.createElement("span",{"class":"caret"}).inject(this.getContent());this.getContent().toggleClassName("dropdown-toggle",!this.getValue())}this.dropdown=new d(g.merge(j,h));this.getContent().addEvents(this.events.dropdownButton);return this},setIcon:function(k){var m=this.elements;k=k.split(" ");for(var j=0,h=k.length;j<h;j++){if(k[j]==="left"||k[j]==="right"){continue}if(!k[j].match("fonticon-")&&k[j]!=="caret"){k[j]="fonticon-"+k[j]}}k=k.join(" ");if(k==="left"||k==="left left"){k="fonticon-left"}else{if(k==="left right"||k==="right left"){k="fonticon-left right"}else{if(k==="right"){k="fonticon-right"}else{if(k==="right right"){k="fonticon-right right"}}}}if(!m.icon){m.icon=g.createElement("span",{"class":"fonticon "+k}).inject(m.input,"top")}else{m.icon.className="fonticon "+k}m.icon&&this.elements.container.addClassName("btn-with-icon");return this},removeIcon:function(){if(this.elements.icon){this.elements.icon.destroy()}this.elements.container.removeClassName("btn-with-icon");return this},setValue:function(i){var h=this.elements.input,j;if(this.elements.icon||this.elements.caret){j=this.getContent().firstChild;if(j===this.elements.caret){h.insertBefore(document.createTextNode(i),j)}else{j=j.nodeType===3?j:j.nextSibling;h.insertBefore(document.createTextNode(i),j);j&&j.nodeType===3&&h.removeChild(j)}}else{h.setText(i)}if(this.elements.caret){this.getContent().toggleClassName("dropdown-toggle",!this.getValue())}if(!i||i===""){this.elements.container.addClassName("btn-without-label")}return this},setActive:function(h){if(typeof h==="undefined"){h=true}this.getContent().toggleClassName("active",h);return this},toggleActive:function(){return this.setActive(!this.isActive())},isActive:function(){return this.getContent().hasClassName("active")},loading:function(){console.info("The method `Button.loading()` is deprecated. Please use `Button.load()` instead.");this.load.apply(this,arguments)},load:function(j,i){var h;if(typeof j==="undefined"){j=true}if(j&&!this.previousValue){this.previousValue=this.getValue()}h=j?i||e.loading:this.previousValue;h&&this.setValue(h);this.setDisabled(j);if(!j){delete this.previousValue}},setClassName:function(h){this.options.className=a(h);this.getContent().className=this.getClassNames();return this}};return f.extend(b)});define("DS/UIKIT/Accordion",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/Abstract","DS/UIKIT/Input/Button"],function(g,d,c,e,f,b){var a={name:"accordion",ITEM_CLASSNAME:"accordion-item",TITLE_CLASSNAME:"accordion-title",defaultOptions:{buttons:false,arrows:true,exclusive:true,animated:false,styled:false},items:null,subAccordions:null,selectedItems:null,unselectedItems:null,embeddedItems:0,init:function(k){var m,j=k.items.length,h,n,o;this._parent(k);this.items=[];this.subAccordions=[];this.selectedItems=[];this.unselectedItems=[];this.buildSkeleton();if(this.subAccordions[0]&&j){h=this.subAccordions[0].id;n=[];n.globalOptions=[];o=this.subAccordions[0].options;for(m=0;m<j;m++){n=k.items[m];n.accordionId=h;n.globalOptions=o;this.addItem(n)}}this.options.styled=this.elements.container.hasClassName("styled");if(this.options.styled&&this.embeddedItems===0){this.elements.container.removeClassName("styled")}},buildSkeleton:function(){var h=this.elements,i;if(h.container){return}this.options.className=this.getClassNames();i=this._addSubAccordion(this.options);h.container=i.container;this.handleEvents()},_addSubAccordion:function(i){var h=[];h.id=e.getUUID().substr(0,6);h.parentItemId=(i.parentItemId)?(i.parentItemId):(-1);h.options=g.merge(i,this.defaultOptions);if(h.parentItemId!==-1){h.options.className=i.className+" sub-accordion"}h.container=this._buildAccordion(h.options);this.subAccordions.push(h);return h},_getSubAccordion:function(k){var h=[],i,j;if(this.subAccordions){for(i=0,j=this.subAccordions.length;i<j;i+=1){h=this.subAccordions[i];if(h&&h.id&&h.id===k){return h}}}return false},_buildAccordion:function(i){var j=(i.className)?(i.className):(this.getClassNames());var h=g.createElement("div",{"class":j});if(i.animated){h.addClassName("animated")}return h},_buildAccordionItem:function(i,h,j){i.elements={container:g.createElement("div",{"class":this.ITEM_CLASSNAME+" "+j,id:i.id})};if(h.title){i.title=g.createElement("div",{"class":this.TITLE_CLASSNAME+" ",html:h.title||""});if((h.arrow!==false&&((h.globalOptions&&h.globalOptions.arrows)||(!h.globalOptions&&this.defaultOptions.arrows)))||h.arrow){g.createElement("i",{"class":"caret-left "}).inject(i.title,"top")}i.title.inject(i.elements.container);if((h.button!==false&&h.globalOptions&&h.globalOptions.buttons)||h.button){i.button=new b();i.button.setIcon("plus");i.button.inject(i.title)}this.embeddedItems++}i.elements.wrapper=g.createElement("div",{"class":"content-wrapper"});i.elements.content=g.createElement("div",{"class":"content "+j});h.content&&i.elements.content.setContent(h.content);h.globalOptions&&h.globalOptions.animated&&i.elements.content.toggleClassName("accordion-animated-content");i.elements.content.inject(i.elements.wrapper);i.elements.wrapper.inject(i.elements.container)},_isExclusive:function(i){var h=this._getSubAccordion(i);return h&&h.options.exclusive},selectItem:function(i){var j,h,k=[];if(i.name){j=i}else{j=this.getItem(i);if(!j){return}}if(!j.isSelected){j.isSelected=true;j.elements.container.addClassName("active");h=this._getSelectedItemPosition(j.accordionId,j.id);if(h===-1){k.id=j.id;k.accordionId=j.accordionId;this.selectedItems.push(k);this.dispatchEvent("onOpen",[j,this.selectedItems],this)}h=this._getUnselectedItemPosition(j.accordionId,j.id);if(h>-1){this.unselectedItems.splice(h,1)}if(j.button){j.button.setIcon("minus")}}},unselectItem:function(i){var j,h,k=[];if(i.name){j=i}else{j=this.getItem(i);if(!j){return}}if(j.isSelected){j.isSelected=false;j.elements.container.removeClassName("active");h=this._getSelectedItemPosition(j.accordionId,j.id);if(h>-1){this.selectedItems.splice(h,1)}h=this._getUnselectedItemPosition(j.accordionId,j.id);if(h===-1){k.id=j.id;k.accordionId=j.accordionId;this.dispatchEvent("onClose",[j,this.unselectedItems],this);this.unselectedItems.push(k)}if(j.button){j.button.setIcon("plus")}}},enableItem:function(i){var h=this.getItem(i);h&&h.elements.container.removeClassName("disabled");h.disabled=false;return this},disableItem:function(i){var h=this.getItem(i);h&&h.elements.container.addClassName("disabled");h.disabled=true;return this},unselectAll:function(){while(this.selectedItems.length>0){this.unselectItem(this.selectedItems[0].id)}},selectAll:function(){while(this.unselectedItems.length>0){this.selectItem(this.unselectedItems[0].id)}},toggleItem:function(i){var j=false,h;if(i.name){j=i}else{j=this.getItem(i)}if(!j){this.dispatchEvent("onClick",[j],this);return}if(!j.disabled){if(j.isSelected){this.unselectItem(j)}else{this.selectItem(j)}if(j.accordionId&&this._isExclusive(j.accordionId)){h=this._getSelectedItemsByAccordion(j.accordionId)[0];if(h&&h!==j.id){this.unselectItem(h)}}this.dispatchEvent("onChange",[j,this.selectedItems,this.unselectedItems],this);this.dispatchEvent("onClick",[j],this);if(this.options.styled&&this.embeddedItems===0){if(this.selectedItems.length===0){this.elements.container.removeClassName("styled")}else{this.elements.container.addClassName("styled")}}}},addItem:function(h){var i=this;e.splat(h).forEach(function(j){i._addItem(j,i.elements.container)});return this},_addItem:function(p){var h,n=p.className||"",l={},m=p.handler,o,k,j=this,i=[];if(p.accordionId){h=this._getSubAccordion(p.accordionId);h=(h)?(h):(this.subAccordions[0])}else{h=this.subAccordions[0]}if(!h||!h.container){return}l.accordionId=h.id;l.id=e.getUUID().substr(0,6);if(!p.name){l.name="item-"+l.id}else{l.name=p.name}if(p.disabled){n+=" disabled";l.disabled=true}else{l.disabled=false}if(p.trigger){p.trigger.addEvent("onClick",function(){j.toggleItem(l.id)})}l.isSelected=false;this._buildAccordionItem(l,p,n);if(m&&g.is(m,"function")){l.elements.container.addEvent("click",function(){m()})}if(p.accordion){p.accordion.parentItemId=l.id;p.accordion.className=(p.accordion.className)?(p.accordion.className+" "+this.name):(this.name);o=this._addSubAccordion(p.accordion);if(o&&o.container){k=o.container;if(p.accordion.items){p.accordion.items.forEach(function(q){q.accordionId=o.id;q.globalOptions=o.options;j._addItem(q)})}k.inject(l.elements.content)}}this.items.push(l);l.elements.container.inject(h.container);if(p.selected){this.toggleItem(l)}else{i.id=l.id;i.accordionId=l.accordionId;this.unselectedItems.push(i)}},removeItem:function(i){var j=false,h;if(i.name){j=i}else{j=this.getItem(i)}if(!j){return}j.elements.container.destroy();j.elements.container=null;h=this.items.indexOf(j);if(h>-1){this.items.splice(h,1)}h=this._getUnselectedItemPosition(j.accordionId,j.id);if(h>-1){this.unselectedItems.splice(h,1)}h=this._getSelectedItemPosition(j.accordionId,j.id);if(h>-1){this.selectedItems.splice(h,1)}},getItem:function(k){var h,i,j=false;for(h=0,i=this.items.length;h<i;h+=1){j=this.items[h];if(k&&k.nodeType&&(j.elements.container===k)){break}else{if(h===k||j.id===k||j.name===k){break}}j=false}return j},setContent:function(k,j){var h,i=this.getItem(k);if(i){h=i.elements.container.getElementsByClassName("content-wrapper")[0];h.destroy();i.elements.wrapper=g.createElement("div",{"class":"content-wrapper"});i.elements.content=g.createElement("div",{"class":"content",html:j||""});i.elements.content.inject(i.elements.wrapper);i.elements.wrapper.inject(i.elements.container)}},setTitle:function(k,j){var h,i=this.getItem(k);if(i){h=i.elements.container.getElementsByClassName(this.TITLE_CLASSNAME)[0];h.destroy();i.title=g.createElement("div",{"class":this.TITLE_CLASSNAME+" ",html:j||""});i.title.inject(i.elements.container,"top")}},isSelected:function(i){var h=this.getItem(i);return h&&h.isSelected},getSelectedItems:function(){return this.selectedItems},_getSelectedItemsByAccordion:function(i){var h=[];this.selectedItems.forEach(function(j){if(j.accordionId===i){h.push(j.id)}});return h},_getSelectedItemPosition:function(j,n){var k,h,m;for(k=0,h=this.selectedItems.length;k<h;k++){m=this.selectedItems[k];if(m.accordionId===j&&m.id===n){return k}}return -1},getUnselectedItems:function(){return this.unselectedItems},_getUnselectedItemPosition:function(j,n){var k,h,m;for(k=0,h=this.unselectedItems.length;k<h;k++){m=this.unselectedItems[k];if(m.accordionId===j&&m.id===n){return k}}return -1},show:function(){this.items&&this._parent()},eventHandler:function(k){var i=c.getElement(k),l=(i.hasClassName(this.TITLE_CLASSNAME)&&i)||i.getParent("."+this.TITLE_CLASSNAME),h=l&&l.getParent(),j;if(h&&h.id){j=this.getItem(h.id);if(!j.button||(j.button&&(i.hasClassName("btn")||i.getParent().hasClassName("btn")))){this.toggleItem(j)}}},handleEvents:function(){this.elements.container.addEvent("click",this.eventHandler.bind(this))}};return f.extend(a)});define("DS/UIKIT/Input/Toggle",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","DS/UIKIT/Input"],function(g,c,b,d,e){function a(m){var k,h,j;if(!m){return}m=m.split(" ");for(k=0,h=m.length;k<h;k++){j=m[k].match(/(toggle-)?(xsmall|small|large|default|primary|info|warning|error|success|switch|inline)$/);if(j&&!j[1]){if(j[0]==="small"){m[k]="toggle-sm"}else{if(j[0]==="large"){m[k]="toggle-lg"}else{if(j[0]==="xsmall"){m[k]="toggle-xs"}else{m[k]="toggle-"+m[k]}}}}}return m.join(" ")}var f={name:"toggle",defaultOptions:{type:"radio",className:"",checked:false},init:function(h){h=h||{};if(!h.id){h.id="radio-"+d.getUUID().substring(0,6)}this._parent(h);this.setClassName(h.className)},buildInput:function(){var h=g.createElement("input",{type:this.options.type==="radio"?"radio":"checkbox"});if(this.options.required){h.setAttribute("required",true)}return h},buildSkeleton:function(){var i=this.elements,h=this.options;i.content=i.input=this.buildInput().set(h.attributes);i.input.id=this.options.id;i.label=g.createElement("label",{text:h.label,"class":"control-label",attributes:{"for":this.options.id}});i.container=g.createElement("div",{html:[i.input,i.label]});i.container.addClassName(this.getClassNames());this.setCheck(h.checked);this.setDisabled(h.disabled)},handleEvents:function(){var j=this,k=this.elements;function i(l){return j.dispatchEvent.bind(j,l)}function h(l){return function(n){var m=b.getElement(n);if(m===this.elements.label&&l!=="onClick"){this.dispatchEvent(l,n)}else{if(m===this.elements.input){this.dispatchEvent(l,n)}}}.bind(j)}if(!this.events){this.events={container:{click:h("onClick"),mousedown:h("onMouseDown")},input:{change:i("onChange"),keydown:i("onKeyDown"),focus:this.setFocus.bind(this,true),blur:this.setFocus.bind(this,false)}}}if(this.isDisabled()){k.input.removeEvents(this.events.input);k.container.removeEvents(this.events.container)}else{k.container.addEvents(this.events.container);k.input.addEvents(this.events.input)}},setFocus:function(){this.syncInput();return this},isChecked:function(){return this.elements.input.checked},setCheck:function(h){this.elements.input.checked=h!==false;return this},syncInput:function(){if(!g.is(this.options.label)){this.elements.label.setText(this.getValue())}},setLabel:function(h){this.options.label=h;this.elements.label.setText(h);return this},getLabel:function(){return this.elements.label.getText()},check:function(){return this.setCheck()},uncheck:function(){return this.setCheck(false)},setClassName:function(h){if(this.options.type==="switch"){h=h?h+" switch":"switch"}this.options.className=a(h);this.getContent().className=this.getClassNames();return this}};return e.extend(f)});define("DS/UIKIT/Input/Password",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","DS/UIKIT/Input/Text"],function(f,b,a,e,d){var c={name:"",defaultOptions:{className:"",multiline:false},init:function(g){this._parent(g)},buildInput:function(){var g={},h=this.options,i=f.createElement("input",{type:"password"});["placeholder","required","pattern","maxlength"].forEach(function(j){if(h[j]){g[j]=h[j]}});i.set(g);return i}};return d.extend(c)});define("DS/UIKIT/Input/ButtonGroup",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","UWA/Controls/Abstract","DS/UIKIT/Input/Button"],function(h,d,c,f,g,b){function a(n){var m,j,k;if(n){n=n.split(" ");for(m=0,j=n.length;m<j;m++){k=n[m].match(/(btn-grp-)?(xsmall|small|large|vertical)$/);if(k&&!k[1]){if(k[0]==="small"){n[m]="btn-grp-sm"}else{if(k[0]==="large"){n[m]="btn-grp-lg"}else{if(k[0]==="xsmall"){n[m]="btn-grp-xs"}else{n[m]="btn-grp-"+n[m]}}}}}n=n.join(" ")}return n}var e={name:"btn-grp",defaultOptions:{className:"",disabled:false},buttons:null,init:function(i){if(i.className){i.className=a(i.className)}this._parent(i);this.events=null;this.buttons=[];this.getContent()},getContent:function(){if(!this.elements.container){this.buildSkeleton()}return this.elements.container},buildSkeleton:function(){var j=this,k=this.elements,i=this.options;k.container=h.createElement("div",{"class":this.getClassNames()});i.buttons.forEach(function(m){var l;if(m instanceof b===false){l=new b(h.clone(m))}else{l=m}l.inject(k.container);j.buttons.push(l)});this.setDisabled(i.disabled)},handleEvents:function(){var i=this;if(!this.events){this.events={click:function(k){var l=c.getElement(k),j=i.getButton(l)||i.getButton(l.getParent());if(j){if(!j.dropdown){i.toggleActive(j)}i.dispatchEvent.call(i,"onClick",[k,j])}}}}if(this.isDisabled()){this.elements.container.removeEvents(this.events)}else{this.elements.container.addEvents(this.events)}},setDisabled:function(i){if(typeof i==="undefined"){i=true}this.buttons.forEach(function(j){j.setDisabled(i)});this.elements.container.toggleClassName("disabled",i);this.handleEvents();return this},isDisabled:function(){return this.buttons.every(function(i){return i.isDisabled()})},getButton:function(n){var m,j,k=false;if(n instanceof b){k=n}else{for(m=0,j=this.buttons.length;m<j;m+=1){k=this.buttons[m];if(n&&n.nodeType&&k.getContent()===n){break}else{if(m===n){break}}k=false}}return k},setActive:function(k,j){var i=this.getButton(k);if(typeof j==="undefined"){j=true}if(this.options.type==="checkbox"){i.setActive(j)}else{if(this.options.type==="radio"){if(j){this.getActive().forEach(function(l){l.setActive(false)});i.setActive(true)}}}return this},getActive:function(){return this.buttons.filter(function(i){if(i.isActive()){return true}})},toggleActive:function(j){var i=this.getButton(j);if(i){this.setActive(i,!i.isActive())}return this},isActive:function(j){var i=this.getButton(j);if(i){return i.isActive()}},setClassName:function(i){this.options.className=a(i);this.getContent().className=this.getClassNames();return this}};return g.extend(e)});define("DS/UIKIT/Input/File",["UWA/Core","UWA/Utils","DS/UIKIT/Input","i18n!DS/UIKIT/assets/nls/UIKIT"],function(h,e,f,d){var g=["small","large","block","primary","success","default","info","warning","error"],c=new RegExp("^("+g.join("|")+")$");function a(k){if(!k){return""}var i=[],j=k.split(" ");j.forEach(function(l,n){var m=l.match(c);if(m){if(m[0]==="small"){i[n]="input-group-sm"}else{if(m[0]==="large"){i[n]="input-group-lg"}else{i[n]="btn-"+l}}}else{i[n]=l}});return i.join(" ")}var b={defaultOptions:{input:true,buttonBefore:true,buttonText:d.browse,placeholder:d.selectFile},init:function(i){i=i||{};i.className=a(i.className);i.buttonClassName=a(i.buttonClassName||"default");this._parent(i)},buildSkeleton:function(){var j=this.elements,i=this.options;j.container=h.createElement("div",{"class":"input-file input-group "+i.className});j.button=h.createElement("span",{"class":"btn btn-file "+i.buttonClassName,text:i.buttonText});j.input=h.createElement("input",{type:"file",id:i.id||"",attributes:i.attributes});j.input.multiple=!!i.multiple;j.buttonGroup=h.createElement("span",{"class":"input-group-btn"});j.button.inject(j.buttonGroup);j.buttonGroup.inject(j.container);j.input.inject(j.button);if(i.input){j.textfield=h.createElement("input",{type:"text","class":"form-control",placeholder:i.placeholder,required:i.required,attributes:{readonly:true}});j.textfield.inject(j.container,i.buttonBefore?"":"top")}this.setDisabled(i.disabled)},handleEvents:function(){var i=this,j=this.elements;this._parent();if(!this.fileEvents){this.fileEvents={};if(e.Client.Engine.ie){this.fileEvents.textfield={focus:function(){i.elements.textfield.blur()}}}}if(this.isDisabled()){this.fileEvents.textfield&&j.textfield&&j.textfield.removeEvents(this.fileEvents.textfield)}else{this.fileEvents.textfield&&j.textfield&&j.textfield.addEvents(this.fileEvents.textfield)}},syncInput:function(){var k=this.elements,j=this.options,i;if(j.input){i=j.multiple&&k.input.files?k.input.files.length:1;k.textfield.value=i>1?i+" "+d.selectedFiles:this.getValue();if(this.getValue().length){this.elements.textfield.addClassName("files-uploaded")}else{this.elements.textfield.removeClassName("files-uploaded")}}},setValue:function(){this.elements.input.value="";this.syncInput()},setText:function(i){this.options.input&&this.elements.textfield.setText(i)},getValue:function(){var j;function i(k){return k.replace(/\\/g,"/").replace(/.*\//,"")||""}if(this.options.multiple){j=[].map.call(this.elements.input.files,function(k){return k.name}).join(";")}else{j=i(this.elements.input.value)}return j},setDisabled:function(i){this._parent(i);this.elements.button.toggleClassName("disabled",this.isDisabled());this.options.input&&(this.elements.textfield.disabled=this.isDisabled());return this},clear:function(){this.setValue();return this}};return f.extend(b)});define("DS/UIKIT/Modal",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","UWA/Controls/Abstract","DS/UIKIT/Tooltip","i18n!DS/UIKIT/assets/nls/UIKIT"],function(e,a,j,c,g,i,k){function f(){try{return window.self!==window.top}catch(l){return true}}function d(o,n,m,l){if(n.addEventListener){n.addEventListener(o,m,l)}else{if(n.attachEvent){n.attachEvent("on"+o,m,l)}}}function b(m,n,l){Object.keys(m).forEach(function(o){d(o,n,m[o],l)})}var h={name:"modal",defaultOptions:{className:"",animate:false,closable:true,overlay:true,visible:false,escapeToClose:true},isVisible:false,init:function(l){l=l||{};this._parent(l);this.options.animate=c.Features.transitionsCSS&&this.options.animate;this.buildSkeleton();this.handleEvents();if(l.renderTo){this.inject(l.renderTo)}},getHeader:function(){if(!this.elements.header){this.elements.header=e.createElement("div",{"class":this.name+"-header"}).inject(this.elements.content,"top")}return this.elements.header},getBody:function(){return this.elements&&this.elements.body},getFooter:function(){if(!this.elements.footer){this.elements.footer=e.createElement("div",{"class":this.name+"-footer"}).inject(this.elements.content)}return this.elements.footer},setHeader:function(n){var m=this,p=this.getHeader(),l=this.options,o=this.elements;p.empty();if(l.closable){o.close=e.createElement("span",{"class":"close fonticon fonticon-cancel",events:{click:function(){m.hide()}}}).inject(p,"top");o.closeTooltip=new i({position:"bottom",target:o.close,body:k.close})}if(n){p.addContent(n)}return this},setBody:function(l){if(this.elements.body){this.elements.body.empty();this.elements.body.addContent(l)}return this},setFooter:function(l){var m=this.getFooter();m.empty();if(l){m.addContent(l)}return this},buildSkeleton:function(){var m=e.createElement,n=this.elements,l=this.options;if(n.container){return}n.container=m("div",{"class":this.getClassNames()});n.wrapper=m("div",{"class":this.name+"-wrap"}).inject(n.container);n.content=m("div",{"class":this.name+"-content"}).inject(n.wrapper);if(e.is(l.header)){if(e.is(l.header,"string")&&!/<[\s\S]*>/i.test(l.header)){this.setHeader({tag:"h4",text:l.header})}else{this.setHeader(l.header)}}else{if(l.closable){this.setHeader()}}n.body=m("div",{"class":this.name+"-body",html:l.body}).inject(n.content);if(e.is(l.footer)){this.getFooter().addContent(l.footer)}if(l.overlay){n.overlay=m("div",{"class":this.name+"-overlay"})}if(l.animate){n.container.addClassName("fade");n.overlay&&n.overlay.addClassName("fade")}l.header=null;l.body=null;l.footer=null},onPostInject:function(l){this.options.renderTo=l;if(this.options.visible||this.isVisible){this.isVisible=false;this.show()}},toggle:function(){return this[this.isVisible?"hide":"show"]()},show:function(){var m=this,l=this.options,n=this.elements,o=50;if(!n.container){return}if(!this.isVisible){this.isVisible=true;if(n.container.isInjected()){!f()&&a.addClassName.call(document.body,this.name+"-open");n.overlay&&n.overlay.inject(l.renderTo||document.body);n.container.setStyle("display","block");if(l.animate){setTimeout(function(){if(m.elements.container&&m.isVisible){m.elements.container.addClassName("in");m.elements.overlay&&m.elements.overlay.addClassName("in");m.dispatchEvent("onShow")}},o)}else{m.elements.overlay&&m.elements.overlay.addClassName("in");m.dispatchEvent("onShow")}}}return this},hide:function(){var n=this,m=this.options,o=this.elements,p=150;function l(){if(!n.isVisible){if(n.elements.container){n.elements.container.setStyle("display","");n.elements.overlay&&n.elements.overlay.remove()}!f()&&a.removeClassName.call(document.body,n.name+"-open");n.dispatchEvent("onHide")}}if(!o.container){return}if(this.isVisible){this.isVisible=false;if(o.container.isInjected()){o.overlay&&o.overlay.removeClassName("in");if(m.animate){o.container.removeClassName("in");setTimeout(function(){l()},p)}else{l()}}}return this},handleEvents:function(){var m,l=27;if(!this.events){this.events={};if(this.options.escapeToClose){this.events.document={};this.events.document.keyup=function(n){m=n.keyCode?n.keyCode:n.which;if(this.isVisible&&m===l){this.hide()}}.bind(this);b(this.events.document,document,true)}}},destroy:function(){this.options&&(this.options.animate=false);this.hide();this._parent()}};return g.extend(h)});define("DS/UIKIT/Input/Select",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","DS/UIKIT/Input","i18n!DS/UIKIT/assets/nls/UIKIT"],function(d,b,h,f,e,j){var c=d.Utils.Client.Platform.name.test("ios|android")&&f.Client.Features.touchEvents,g=d.Utils.Client.Platform.name.test("android");function i(o){var n,k,m;if(!o){return}o=o.split(" ");for(n=0,k=o.length;n<k;n++){m=o[n].match(/small|large$/);if(m&&!m[1]){if(m[0]==="small"){o[n]="input-sm"}else{if(m[0]==="large"){o[n]="input-lg"}}}}return o.join(" ")}var a={defaultOptions:{placeholder:j.selectDefaultPlaceholder,options:[]},init:function(k){k=k||{};if(k.className){k.className=i(k.className)}this.custom=k.nativeSelect!==true;this.custom=d.is(k.custom)?k.custom!==false:this.custom;this.custom&&this.setupTemplates(k);this._parent(k)},buildSkeleton:function(){var n=this.elements,l=this.options,m,k={};d.is(l.id)&&(k.id=l.id);l.required&&(k.required=l.required);l.multiple&&(k.multiple=l.multiple);d.is(l.size)&&(k.size=l.size);d.merge(l.attributes,k);n.container=d.createElement("div",{"class":"select "+l.className});n.input=d.createElement("select",{"class":"form-control",attributes:l.attributes}).inject(n.container);if(!this.custom){n.content=n.input;n.container.addClassName("select-native")}else{n.input.addClassName("select-hidden");n.choices=d.createElement("ul",{"class":"select-choices form-control"});n.dropdown=d.createElement("div",{"class":"select-dropdown"});n.content=d.createElement("ul",{"class":"select-results"});n.choices.inject(n.container);n.content.inject(n.dropdown);n.dropdown.inject(n.container)}if(l.multiple){n.container.addClassName("select-multiple")}if(l.placeholder!==false){l.options.unshift({label:l.placeholder,value:""});this.getContent().addClassName("select-placeholder")}this.add(l.options);if(l.placeholder!==false){m=this.getSelection();if(!m.length){this.select(0,true,true)}this.ensureClassForPlaceholder()}this.setDisabled(l.disabled)},getOption:function(m,k,o,q){var l=this.getOptions(true,this.custom&&d.is(o)?!o:false),n=m,p;if(d.is(m,"element")){if(/optgroup|option/.test(m.getTagName())){if(!this.custom||this.custom&&!d.is(o)){return m}}else{if(!this.custom||!d.is(o)){return null}}}else{if(d.is(m.value)){n=m.value}}return l.some(function(s,r){p=s;if(s.value===n||(!q&&s.label===n)||r===n||s===n){if(!k||s.getTagName()===k){d.is(o)&&(p=this.getOptions(true,o)[r]);return true}}}.bind(this))?p:null},getOptions:function(n,m){var k,l;m=m===true;if(this.custom&&m){k=this.elements.content.getElements(".result-group, .result-option")}else{l=this.elements.input.getElementsByTagName("*");k=Array.prototype.map.call(l,function(o){return d.extendElement(o)})}if(this.options.placeholder!==false&&n===false){k.shift()}return k},remove:function(k){var l=this.getSelection();if(!d.is(k)){k=this.getOptions()}f.splat(k).forEach(function(m){this.removeOption(m)},this);if(!this.getSelection().equals(l)){this.dispatchOnChange()}return this},removeOption:function(l){l=this.getOption(l);if(l&&(this.options.placeholder===false||l!==this.elements.input.firstChild)){if(this.custom){var k=this.getOption(l,undefined,true);k&&k.remove()}l.remove()}return this},add:function(k){var l=this.getSelection();f.splat(k).forEach(function(m){this.addOption(m)},this);if(!this.getSelection().equals(l)){this.dispatchOnChange()}return this},addOption:function(p,k){var r=this.elements,o=r.input,n=r.content,m,l,q;if(d.is(p,"object")){d.is(p.value)||(p.value=p.label)}else{p=""+p}if(!d.is(p,"object")){p={value:p}}p.value=""+p.value;m=this.getOption(p,"option",undefined,true);q=!!m;if(!q){m=d.createElement("option");if(this.custom){l=d.createElement("li",{"class":"result-option"})}}if(p.group){o=this.getOption(p.group,"optgroup");if(!o){o=d.createElement("optgroup",{label:p.group}).inject(r.input);if(this.custom){n=d.createElement("li",{"class":"result-group",html:[{tag:"span","class":"result-group-label",text:p.group},{tag:"ul","class":"result-group-sub"}]}).inject(r.content).getElement("ul")}}else{if(this.custom){n=this.getOption(o,undefined,true).getElement("ul")}}}if(!d.is(p.label)&&!d.is(p.value)){return this}b.set.call(m,{text:d.is(p.label)?p.label:p.value,value:d.is(p.value)?p.value:p.label,selected:p.selected,disabled:p.disabled,attributes:p.attributes});if(this.custom){if(!l){l=this.getOption(m,undefined,true)}p.attributes&&Object.keys(p.attributes).forEach(function(s){l.setAttribute(s,p.attributes[s])});if(p.label===""||!p.value&&!p.label){this.template.setOption(l,"&nbsp;",true)}else{this.template.setOption(l,d.is(p.label)?p.label:p.value)}l.toggleClassName("result-option-disabled",!!p.disabled);if(!(q&&n===l.getParent())){l.inject(n,k)}}if(!(q&&o===m.getParent())){m.inject(o,k)}return this},setupTemplates:function(k){this.template={};this.template.setOption=(function(){var l=!!k.template;return function(m,o,n){var p={};p[(l||n)?"html":"text"]=o;b.set.call(m,p,o)}}());this.template.getOption=function(l){if(l.hasClassName("result-option")){return l}};this.template.setChoice=function(m,n,l){b.set.call(m,{text:n})};d.extend(this.template,k.template)},enable:function(k){if(d.is(k)){f.splat(k).forEach(function(l){this.setDisabled(false,l)},this)}else{this.setDisabled(false)}return this},disable:function(k){if(d.is(k)){f.splat(k).forEach(function(l){this.setDisabled(true,l)},this)}else{this.setDisabled(true)}return this},setDisabled:function(l,k){var m=this.elements;d.is(l)||(l=true);if(d.is(k)){k=this.getOption(k);if(!k){return this}k.disabled=l;this.custom&&this.getOption(k,undefined,true).toggleClassName("result-option-disabled",l)}else{m.container.toggleClassName("select-disabled",l);m.input.disabled=l;this.setFocus(false);this.custom&&this.toggleDropdown(false);this.handleEvents()}return this},setPlaceholder:function(m){var k=this.options,l=k.placeholder;if(m===false&&l!==false){k.placeholder=false;this.remove(l);this.getContent().removeClassName("select-placeholder");this.getContent().removeClassName("select-not-chosen")}else{if(m!==false){k.placeholder=m;if(l!==false){this.addOption({value:"",label:m});this.syncInput()}else{this.addOption({label:m,value:""},"top");this.getContent().addClassName("select-placeholder")}}}return this},getSelection:function(o){var m=this.options,n=this.getOptions(o),k=this.elements.input.selectedIndex,l=[];m.placeholder!==false&&o===false&&k--;l=n.filter(function(q,p){if(q.getTagName()!=="optgroup"){if(m.multiple&&q.selected||k===p){return true}}else{k++}});return l},clear:function(k){return this.select(this.getSelection(false),false,k)},select:function(o,m,l,k){var n=this.getSelection();k&&this.clear(true);f.splat(o).forEach(function(p){this.setSelection(p,m!==false)},this);if(!this.getSelection().equals(n)){if(l!==true){this.dispatchOnChange()}}this.syncInput();return this},setValue:function(k){return this.select(k,true,false,true)},getValue:function(){return this.getSelection().map(function(k){return k.value})},setClassName:function(k){this.options.className=i(k);this.getContent().className=this.getClassNames();return this},setSelection:function(l,k){l=this.getOption(l);if(!l){return this}if(l.getTagName()==="optgroup"){this.select(l.getChildren(),k)}else{l.selected=k}return this},syncInput:function(){var l=false,k=this.options,m=this.getSelection(),n;if(k.placeholder!==false){if(m.length===0){this.elements.input.firstChild.selected=true;m.push(this.elements.input.firstChild)}if(k.multiple&&m.length>1&&this.elements.input.firstChild.selected){this.elements.input.firstChild.selected=false;m.shift()}}this.ensureClassForPlaceholder();l=this.getContent().hasClassName("select-not-chosen");if(this.custom){m=this.getSelection();this.getOptions(true,true).forEach(function(o){o.removeClassName("result-option-selected")});this.elements.choices.empty();n=Array.prototype.slice.call(this.elements.content.querySelectorAll(".result-option"));m.forEach(function(s){var r,q,o,p;r=this.getOption(s,undefined,true);r.addClassName("result-option-selected");if(k.options instanceof Array){o=k.options[n.indexOf(r)]}q=d.createElement("li",{"class":"select-choice"});if(o){p=o.attributes||{};Object.keys(p).forEach(function(t){q.setAttribute(t,p[t])})}this.template.setChoice(q,s.getText(),l);if(l){q.className="select-choice-default"}else{if(k.multiple){d.createElement("span",{"class":"close",html:"&times;"}).inject(q)}}q.inject(this.elements.choices)},this);this.ensureSelectedInView()}},setFocus:function(k,m){var l=this.elements;d.is(k)||(k=k!==false);if(this._preventIEFocusLost){return this}l.container.toggleClassName("select-focus",k);if(c&&!g){return this}!m&&l.input[k?"focus":"blur"]();if(this.custom&&!k){this.toggleDropdown(false)}return this},toggleDropdown:function(l){var o,k,m,n,p=this.getContent().hasClassName("dropdown-visible");if(!d.is(l)){l=!p}if(l!==p){if(l){o=this.getContent().getOffsets().y;k=this.elements.dropdown.getSize().height;m=window.innerHeight||document.documentElement.clientHeight;n=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;this.getContent().addClassName("dropdown-visible");if(o+k>m+n){this.getContent().addClassName("dropup")}else{this.getContent().removeClassName("dropup")}}else{this.getContent().removeClassName("dropdown-visible")}}this.ensureSelectedInView()},ensureClassForPlaceholder:function(){if(this.options.placeholder!==false){var k=this.getSelection().length===1&&this.elements.input.firstChild.selected;this.getContent().toggleClassName("select-not-chosen",k)}},ensureSelectedInView:function(){var n=this.getSelection(),o=this.elements.content,m,l,p,k=o.getBoundingClientRect();if(n.length>0){m=this.getOption(n[n.length-1],undefined,true);l=m.offsetTop-parseInt(o.getStyle("margin-top"),10);p=m.getBoundingClientRect();if(p.bottom>k.bottom||p.top<k.top){this.elements.content.scrollTop=l}}},handleEvents:function(){var k=this.elements;this._parent();if(!this.custom){return}if(!this.events.content){this.events.content={mousewheel:function(o){var p=this.scrollTop,n=this.scrollHeight,m=this.getSize().height,q=(o.type==="DOMMouseScroll"?o.detail*-40:o.wheelDelta),l=q>0;if(!l&&-q>n-m-p){this.scrollTop=n;h.stop(o)}else{if(l&&q>p){this.scrollTop=0;h.stop(o)}}},mouseover:function(){if(!this.options.multiple){this.getOptions(true,true).forEach(function(l){l.removeClassName("result-option-selected")})}}.bind(this)}}k.content[this.isDisabled()?"removeEvents":"addEvents"](this.events.content)},onMouseDown:function(k){var l;if(this.custom){l=h.getElement(k);if(l===this.elements.content){this._preventIEFocusLost=true}h.preventDefault(k)}if(this.elements.input.disabled){this.setDisabled();this._dispatchers&&this._dispatchers.onMouseDown.halt();h.stop(k)}},onClick:function(q){if(!this.custom){return}var r=h.getElement(q),m=this.options,p=false,k=this.template.getOption(r),o,l,n;if(k){r=this.getOption(k,undefined,false);if(m.multiple&&m.placeholder!==false&&r===this.elements.input.firstChild){this.clear()}else{n=r.getParent();if(r.selected&&(r.disabled||n.disabled)){this.select(r,false)}else{if(n.disabled||r.disabled){p=true}else{this.select(r,m.multiple?!r.selected:true)}}}if(!m.multiple&&!p){this.toggleDropdown(false)}}else{if(r.hasClassName("close")){r=r.getParent();o=this.getSelection(true);l=this.elements.choices.getChildren().indexOf(r);this.select(o[l],false)}else{if(!r.hasClassName("result-group-label")&&(!m.multiple||m.multiple&&!r.hasClassName("select-choice"))){this.elements.input.focus();if(!c||g){this.toggleDropdown()}}}}this._preventIEFocusLost=false},onChange:function(k){this.syncInput();k&&this.bubbleOnChange(k)},dispatchOnChange:function(){if(!this.isDisabled()){h.dispatchEvent(this.elements.input,"change")}else{this.dispatchEvent("onChange")}},onKeyDown:function(m){var l=h.whichKey(m),k=true;if(this.custom){if(l==="space"){this.toggleDropdown(true)}else{if(l==="return"){this.toggleDropdown()}else{if(l==="esc"){this.toggleDropdown(false)}else{k=false}}}if(k){h.preventDefault(m)}}}};return e.extend(a)});define("DS/UIKIT/Input/Date",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","DS/UIKIT/Input/Text","DS/UIKIT/DatePicker"],function(g,d,b,f,e,c){var a={name:"input-date",defaultOptions:{className:""},init:function(h){this._parent(h);this.elements.picker=new c({field:this.elements.container,minDate:this.options.min,maxDate:this.options.max})},buildInput:function(){var i=this.options,h={},j=g.createElement("input",{type:"text"});if(!this.options.disabled&&!this.options.allowTextEdition){j.readOnly=true}["placeholder","required"].forEach(function(k){if(i[k]){h[k]=i[k]}});j.set(h);return j},getDate:function(){return this.elements.picker.getDate()},setDate:function(h,i){return this.elements.picker.setDate(h,i)},setMinDate:function(h){return this.elements.picker.setMinDate(h)},setMaxDate:function(h){return this.elements.picker.setMaxDate(h)},clearDates:function(){return this.elements.picker.clearDates()}};return e.extend(a)});define("DS/UIKIT/Input/Number",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","DS/UIKIT/Input",],function(f,b,a,d,e){var c={name:"number",defaultOptions:{min:0,max:10,step:1,nativeNumber:false,decimalPrecision:100000,},init:function(g){g=g||{};this._parent(g)},buildSkeleton:function(){var h=this.options,i=this.elements,g=h.attributes,j="input-"+this.name;h.id&&(g.id=h.id);h.required&&(g.required=h.required);g.min=h.min;g.max=h.max;g.step=h.step;h.placeholder&&(g.placeholder=h.placeholder);i.container=f.createElement("div",{"class":j+" "+h.className});i.input=f.createElement("input",{type:"number","class":"form-control",attributes:g}).inject(i.container);if(this.options.nativeNumber){this.getContent().removeClassName("input-"+this.name)}else{i.leftButton=f.createElement("button",{type:"button","class":j+"-button "+j+"-button-left btn btn-default"});i.rightButton=f.createElement("button",{type:"button","class":j+"-button "+j+"-button-right btn btn-default"});i.leftButton.inject(i.input,"before");i.rightButton.inject(i.input,"after")}this.setDisabled(h.disabled)},setValue:function(h){var g=this.getValue();this._parent(h);if(g!==h){this.dispatchOnChange()}},add:function(){return this},remove:function(){return this},decrement:function(){var h=parseFloat(this.elements.input.value),g=this.options.min,j=this.options.decimalPrecision,i;if(h<=g){return}if(h>g){i=(h*j-this.options.step*j)/j;i=(i<g)?g:i;this.setValue(i)}else{this.setValue(g)}},increment:function(){var h=parseFloat(this.elements.input.value),g=this.options.max,j=this.options.decimalPrecision,i;if(h>=g){return}if(h<g){i=(h*j+this.options.step*j)/j;i=(i>g)?g:i;this.setValue(i)}else{this.setValue(g)}},syncInput:function(){var g=this.options.decimalPrecision;if(this.elements.input.value!==null){this.elements.input.value=Math.round(this.elements.input.value*g)/g}},setDisabled:function(){var h=this.elements,g=arguments[0]!==false;h.leftButton.toggleClassName(this.name+"-disabled",g);h.leftButton.disabled=g;h.input.disabled=g;h.rightButton.disabled=g;this.handleEvents();return this},handleEvents:function(){var g=this.elements;this._parent();if(this.options.nativeNumber){return}if(!this.events.buttons){this.events.buttons={leftButton:{click:this.decrement.bind(this)},rightButton:{click:this.increment.bind(this)}}}if(this.isDisabled()){g.leftButton.removeEvents(this.events.buttons.leftButton);g.rightButton.removeEvents(this.events.buttons.rightButton)}else{g.leftButton.addEvents(this.events.buttons.leftButton);g.rightButton.addEvents(this.events.buttons.rightButton)}}};return e.extend(c)});define("DS/UIKIT/Autocomplete",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Json","UWA/Controls/Abstract","UWA/Promise","UWA/Data","UWA/Utils/Client","DS/UIKIT/Spinner","DS/UIKIT/Scroller","DS/UIKIT/Badge","i18n!DS/UIKIT/assets/nls/UIKIT"],function(g,a,p,k,e,i,m,o,c,d,b,h,q){function f(u,t,s,r){if(t.addEventListener){t.addEventListener(u,s,r)}else{if(t.attachEvent){t.attachEvent("on"+u,s,r)}}}function l(t,s,r){if(s.removeEventListener){s.removeEventListener(t,r,false)}else{if(s.detachEvent){s.detachEvent("on"+t,r)}}}var j={8:"backspace",9:"tab",13:"enter",27:"escape",37:"left-arrow",38:"up-arrow",39:"right-arrow",40:"down-arrow",46:"del"};var n={name:"autocomplete",datasets:null,typeTimeout:null,selectedItems:null,badges:null,innerInputs:null,currentPosition:-1,currentBadge:null,currentSuggestions:[],keyboardIndex:-1,scroller:null,CLS_ITEM:"autocomplete-item",CLS_PARENT_ITEM:"autocomplete-parent-item",CLS_HOVERED_ITEM:"js-selected",CLS_FILLED:"autocomplete-filled",SUGGESTIONS_MAX_HEIGHT:200,suggestsDisplayed:false,defaultOptions:{placeholder:q.search,noResultsMessage:q.noResults,typeDelayBeforeSearch:500,minLengthBeforeSearch:1,showSuggestsOnFocus:false,maxSuggestsToDisplay:-1,multiSelect:false,itemMultiSelect:false,tokenSeparator:";",allowFreeInput:false,disabled:false,closableItems:true,floatingSuggestions:false},init:function(r){this.selectedItems=[];this.badges=[];this.datasets=[];this.innerInputs=[];this._parent(r);this.getSuggestion=(r&&r.getSuggestion)?r.getSuggestion:function(s){var t;if(s.hasClassName(this.CLS_ITEM)){return s}else{t=s.getParent("."+this.CLS_ITEM);return t}};this.buildSkeleton();r&&r.datasets&&this._addDatasets(r.datasets)},_buildInput:function(){var t=this.options,u=this.name,s={},r=g.createElement("input",{type:"text"});["placeholder","required","pattern","maxlength"].forEach(function(v){if(t[v]){s[v]=t[v]}});r.set(s);r.addClassName(u+"-input");r.setAttribute("size",(r.getAttribute("placeholder")||"").length*((q._lang==="zh"||q._lang==="ja")?2:1));if(this.options.name){r.name=this.options.name}if(!this.options.multiSelect){r.setStyle("width","100%")}return r},_buildInnerInput:function(){var s=g.createElement("input",{type:"text"}),r;s.addClassName(this.name+"-inner-input");s.addEvent("keyup",function(){r=5+(s.value.length)*8;s.setStyle("width",r+"px")});s.addEvents(this.events.input);return s},buildSkeleton:function(){var t=this.elements,s=this.name,r=this.options;if(t.container){return}t.container=g.createElement("div",{"class":s});t.inputContainer=g.createElement("div",{"class":s+"-searchbox",tabindex:"1"}).inject(t.container);c.Platform.ios&&t.inputContainer.classList.add("prevent-ios-zoom-in");t.input=this._buildInput();t.input.inject(t.inputContainer);if(this.options.multiSelect===false){t.clear=g.createElement("span",{"class":s+"-reset fonticon fonticon-clear"}).inject(t.inputContainer)}t.suggestsContainer=g.createElement("div",{"class":s+"-suggests"}).inject(t.container);r.multiSelect&&r.floatingSuggestions&&t.suggestsContainer.addClassName(s+"-floating-suggests");t.suggestsScroll=g.createElement("div",{"class":s+"-suggests-scroll"}).inject(t.suggestsContainer);t.suggests=g.createElement("ul",{tabindex:"1"}).inject(t.suggestsScroll);if(k.Client.Engine.firefox){t.suggests.addClassName("scroller-shift")}this.scroller=new b({element:t.suggestsScroll}).inject(t.suggestsContainer);this.setDisabled(r.disabled)},_addDatasets:function(r){var s=this;k.splat(r).forEach(function(t){s.addDataset(t,t.configuration)});return this},addDataset:function(r,u){var s={items:[]},t=function(v,z,y){var x,w;v.addClassName("default-template");if(!y.parent){x=g.createElement("span",{"class":"item-label"});x.setText(y.label);if(y.parentReference){x.setStyle("padding-left",y.parentReference.level+"em");x.addClassName("sub-item")}x.inject(v);if(y.subLabel){v.addClassName("with-sub-label");w=g.createElement("span",{"class":"sub-label"});w.setText(y.subLabel);if(y.parentReference){w.setStyle("padding-left",y.parentReference.level+"em")}w.inject(v)}}else{x=g.createElement("span",{"class":"item-parent-label"});x.setText(y.label);if(y.parentReference){x.setStyle("margin-left",y.parentReference.level+"em");x.addClassName("sub-item")}x.inject(v)}};s.id=k.getUUID().substr(0,6);s.dataCache={};if(r.items){this.addItems(r.items,s)}u=u?u:r.configuration;if(u){["searchEngine","remoteSearchEngine","filterEngine","templateEngine","dataParser","onError","onTimeout","onGetResults","onNoResults"].forEach(function(v){if(g.is(u[v],"function")){s[v]=u[v]}})}s.templateEngine=s.templateEngine?s.templateEngine:t;this.datasets.push(g.merge(s,r));this.used&&this.getSuggestions(false,true)},addItems:function(r,t){var s=this;k.splat(r).forEach(function(u){if(r.parentItemId){u.parentItemId=r.parentItemId;u.level=r.level}s._addItem(u,t)})},_addItem:function(r,t){var s={};if((!r.value||!r.value.length)&&!r.items){return}s.id=k.getUUID().substr(0,6);s.datasetId=t.id;s.label=(r.label)?(r.label):(r.value);t.items.push(g.merge(s,r));if(r.items){s.parent=true;s.level=(!r.level)?(1):(r.level+1);r.items.level=s.level;r.items.parentItemId=s.id;this.addItems(r.items,t)}r.selected&&this.dispatchEvent("onSelect",[s])},enableItem:function(s,r){return this._setItemDisabled(s,false,r)},disableItem:function(s,r){return this._setItemDisabled(s,true,r)},_setItemDisabled:function(u,r,t){var s=this.getItem(u);if(!s){return}if(typeof r==="undefined"){r=true}s.disabled=r;if(t===true&&this.options.multiSelect){this._setBadgeDisabled(s.id,r)}return this},_setBadgeDisabled:function(u,t){var r=this.getSelectedItemPosition(u),s;if(r>=0){s=this.badges[r];s&&s.setDisabled(t)}return this},_removeItemFromCache:function(u,t){var r,v,s;if(u.dataCache){for(v in u.dataCache){if(u.dataCache.hasOwnProperty(v)){r=u.dataCache[v];s=r.indexOf(t);g.is(s)&&u.dataCache[v].splice(s,1)}}}},removeItem:function(s){var r=this;k.splat(s).forEach(function(t){r._removeItem(t)})},_removeItem:function(u){var s=this.getItem(u),t,r;if(s){this.onUnselect(s);t=this.getDataset(s.datasetId);r=t.items.indexOf(s);g.is(r)&&t.items.splice(r,1);this._removeItemFromCache(t,s);r=this.currentSuggestions.indexOf(s);g.is(r)&&this.currentSuggestions.splice(r,1)}},getId:function(){return this.elements.input.id},setId:function(r){if(g.is(r,"string")){this.elements.input.id=r}return this},getName:function(){return this.elements.input.name},toggleSelect:function(u,s,r,t){if(!u||u.disabled){return}if(r===true){this.dispatchEvent("onSelect",[u,s])}else{if(r===false){this.dispatchEvent("onUnselect",[u,s,t])}else{if(u.selected){this.dispatchEvent("onUnselect",[u,s,t])}else{this.dispatchEvent("onSelect",[u,s])}}}return u},onSelect:function(v,r){var y,t,x,w,s=this.options,u=this;if(!s.multiSelect){this.selectedItems[0]&&this.onUnselect(this.selectedItems[0]);this.elements.input.value=v.label;this.elements.container.toggleClassName(this.CLS_FILLED,true);this.dispatchEvent("onHideSuggests")}else{w=this._buildInnerInput();y={id:"selected-"+v.id,content:v.label,selectable:true,events:{onClose:function(B){var A=u.getBadgePosition(t.elements.container),z=(A===u.badges.length-1)?-1:A;u._handleBadgeDeletion(A,z);p.preventDefault(B)}}};if(s.closableItems){y.closable=true}t=new h(y);t.elements.container.setAttribute("tabindex","-1");t.elements.container.setStyle("outline","0");this._toggleBadgeSelection(this.currentPosition,false);if(r>=0){this.resetInput(r);if(this.badges[r-1]){t.inject(this.badges[r-1].elements.container,"after")}else{t.inject(this.elements.inputContainer.getChildren()[0],"before")}this.badges.splice(r,0,t);this.innerInputs.splice(r,0,w)}else{this.resetInput();t.inject(this.elements.input,"before");this.badges.push(t);this.innerInputs.push(w)}w.inject(t.elements.container,"before");this.dispatchEvent("onUpdateInputPosition",[r]);this._toggleBadgeSelection(this.currentPosition);if(!s.itemMultiSelect){x=this.elements.suggests.getElement("#"+this.CLS_ITEM+"-"+v.id);x&&x.addClassName("selected-item")}}v.selected=true;if(r>=0){this.selectedItems.splice(r,0,v)}else{this.selectedItems.push(v)}this.options.multiSelect&&this.options.itemMultiSelect&&this.options.showSuggestsOnFocus&&this.showAll();if(g.is(v.handler,"function")){v.handler.call(this)}this._updateSuggestsPosition()},onUnselect:function(w,r,v,x){var u,t,y,s=this.options;if(!s.multiSelect){(x!==false)&&this.resetInput();u=this.getSelectedItemPosition(w.id);g.is(u)&&u>-1&&this.selectedItems.splice(u,1);this.elements.container.toggleClassName(this.CLS_FILLED,false)}else{u=(this.options.itemMultiSelect&&r>=0)?r:this.getSelectedItemPosition(w.id);if(g.is(u)&&u>-1){this.resetInput(r);t=this.badges[u];if(!t){return}this._toggleBadgeSelection(u,false);t.destroy();this.innerInputs[u].destroy();this.badges.splice(u,1);this.selectedItems.splice(u,1);this.innerInputs.splice(u,1);(v>=0)&&this._updateBadgeFocus(v)}if(!s.itemMultiSelect){y=this.elements.suggests.getElement("#"+this.CLS_ITEM+"-"+w.id);y&&y.removeClassName("selected-item")}}w.selected=false;if(!s.multiSelect){this.dispatchEvent("onHideSuggests")}this._updateSuggestsPosition()},unselectAll:function(r){var s=this,t=[];t=t.concat(this.selectedItems);t.forEach(function(u){if(r===false){s.dispatchEvent("onUnselect",[u])}else{s.onUnselect(u)}})},showAll:function(){var r=[],s;this.datasets.forEach(function(t){s={};s.suggestions=[];if(t.items&&t.items.length){s=g.merge(s,t);s.suggestions=t.items;r.push(s)}});if(g.is(this.options.filterEngine,"function")){r=this.options.filterEngine.call(this,r)}if(r.length){this.dispatchEvent("onUpdateSuggests",[r])}},getItems:function(){var r=[];this.datasets&&this.datasets.forEach(function(s){if(s.items&&s.items.length){r=r.concat(s.items)}});return r},getItem:function(y){var w,u,r,s,x,t,v=false;for(w=0,u=this.datasets.length;w<u;w+=1){x=this.datasets[w];if(!x.items){v=false;continue}for(r=0,s=x.items.length;r<s;r+=1){v=x.items[r];if(y&&y.nodeType){t=y.hasClassName(this.CLS_ITEM)?y:y.getParent();if(this.CLS_ITEM+"-"+v.id===t.id){break}}else{if(r===y||v.id===y||v.name===y||v.value===y){break}}v=false}if(v){break}}return v},getItemByLabel:function(t){var w,u,r,s,x,v=false;for(w=0,u=this.datasets.length;w<u;w+=1){x=this.datasets[w];if(!x.items){v=false;break}for(r=0,s=x.items.length;r<s;r+=1){v=x.items[r];if(v.label.toLowerCase()===t.toLowerCase()){break}v=false}if(v){break}}return v},getItemFromSuggestion:function(r){var t=null,s=r.id&&r.id.replace(this.CLS_ITEM+"-","");if(!s){return}this.currentSuggestions.some(function(u){if(u.id===s){t=u}return t});return t},getDataset:function(u){var s,r,t;for(s=0,r=this.datasets.length;s<r;s+=1){t=this.datasets[s];if(s===u||t.id===u||t.name===u){break}t=false}return t},cleanDataset:function(u){var t=this.getDataset(u),r,s=this;r=this.selectedItems.filter(function(v){return(v.datasetId===t.id)});r.forEach(function(v){s.onUnselect(v)});t.dataCache={};t.items=[]},removeDataset:function(w){var v=this.getDataset(w),s,r=[],u=this,t=false;if(v){s=this.datasets.indexOf(v);g.is(s)&&this.datasets.splice(v,1);r=this.selectedItems.filter(function(x){return(x.datasetId===v.id)});r.forEach(function(x){u.onUnselect(x)});t=this.currentSuggestions.some(function(x){return(x.datasetId===v.id)});t&&this.getSuggestions()}},_appendDatasetName:function(u,r){var s,t;if(u){s=g.createElement("li",{"class":"dataset-header"});t=g.createElement("span");t.setText(u);t.inject(s);s.inject(r)}},_appendItem:function(v,t,r){var s,u;if(t.parentItemId){u=this.getItem(t.parentItemId);if(u){t.parentReference=u;if(!r.getElement("#"+this.CLS_ITEM+"-"+t.parentItemId)){this._appendItem(v,u,r)}}}s=g.createElement("li",{"class":this.CLS_ITEM});s.id=this.CLS_ITEM+"-"+t.id;v.templateEngine.call(this,s,v,t);if(t.parent){s.addClassName(this.CLS_PARENT_ITEM);if(t.value&&!t.disabled){s.addClassName("clickable")}}t.selected&&!this.options.itemMultiSelect&&s.addClassName("selected-item");t.disabled&&s.addClassName("disabled");t.elements=[];t.elements.container=s;s.inject(r)},defaultSearchEngine:function(s,t){var r=[];s.items&&s.items.forEach(function(u){if(u.value&&u.label.toLowerCase().contains(t.toLowerCase())){r.push(u)}});return r},defaultRemoteSearchEngine:function(u,v){var r,t=this,s;return new m(function(x,w){if(u.searchUrl){r=u.searchUrl.replace("{text}",v);o.request(r,{method:"GET",type:"text",onComplete:function(y){s={};s.matchingItems=[];if(y){s.matchingItems=(g.is(u.dataParser,"function"))?(u.dataParser.call(t,u,y)):(t.defaultDataParser(y))}s.dataset=u;x(s)},onFailure:function(y){y.type="error";y.dataset=u;w(y)},onTimeout:function(y){y.type="timeout";y.dataset=u;w(y)}})}})},isSelected:function(t,s){var r=false;this.selectedItems.some(function(u){if(u.datasetId===t&&u.value===s){r=u}return r});return r},getFocusedItem:function(){var r=null;if(this.options.multiSelect&&this.currentPosition>=0){r=this.selectedItems[this.currentPosition]}return r},getFocusedBadge:function(){var r=null;if(this.options.multiSelect&&this.currentPosition>=0){r=this.badges[this.currentPosition]}return r},getSelectedItemPosition:function(s){var r=-1;this.selectedItems.some(function(u,t){if(u.id===s){r=t}return r>-1});return r},getBadgePosition:function(s){var r=-1;this.badges.some(function(t,u){if(t.elements.container===s){r=u}return r>-1});return r},getSuggestions:function(A,x){var r=[],B,y,w,u=this,v,t=true,s,z={success:function(C){B={};B.suggestions=C.matchingItems;v=C.dataset;y&&y.elements&&y.destroy();if(B.suggestions.length>0){if(g.is(v.onGetResults,"function")){v.onGetResults.call(u,v,A,B.suggestions)}B.suggestions.forEach(function(D){if(!D.datasetId){D.datasetId=v.id}s=u.isSelected(D.datasetId,D.value);if(s){D.selected=true;D.id=s.id}if(!D.id){D.id=k.getUUID().substr(0,6)}});if(g.is(v.filterEngine,"function")){B.suggestions=v.filterEngine.call(u,v,B.suggestions)}}else{if(g.is(v.onNoResults,"function")){v.onNoResults.call(u,v,A)}}if(B.suggestions&&B.suggestions.length){B=g.merge(B,v);B.id=v.id;r.push(B)}v.dataCache[A]=B.suggestions;if(g.is(u.options.filterEngine,"function")){r=u.options.filterEngine.call(u,r)}u.dispatchEvent("onUpdateSuggests",[r,x])},error:function(C){y&&y.elements&&y.destroy();v=C.dataset;if(C.type==="error"&&g.is(v.onError,"function")){v=C.dataset;v.onError.call(u,C||[],A)}if(C.type==="timeout"&&g.is(v.onTimeout,"function")){v.onTimeout.call(u,C||[],A)}u.dispatchEvent("onUpdateSuggests",[r,x])}};A=A||this.elements.input.value;this.elements.suggests.empty();this.datasets.forEach(function(C){B={};B.suggestions=[];if(C.dataCache[A]){B.suggestions=C.dataCache[A]}else{if(g.is(C.searchEngine,"function")){B.suggestions=C.searchEngine.call(u,C,A);if(g.is(C.filterEngine,"function")){B.suggestions=C.filterEngine.call(u,C,B.suggestions)}C.dataCache[A]=B.suggestions}else{if(g.is(C.remoteSearchEngine,"function")){t=false;if(!y){w=g.createElement("li",{"class":"message"});w.inject(u.elements.suggests,"top");y=new d();y.inject(w);y.show()}u.onShowSuggests();m.cast(C.remoteSearchEngine.call(u,C,A)).then(z.success,z.error)}else{if(C.searchUrl){t=false;if(!y){w=g.createElement("li",{"class":"message"});w.inject(u.elements.suggests,"top");y=new d();y.inject(w);y.show()}u.onShowSuggests();m.cast(u.defaultRemoteSearchEngine(C,A)).then(z.success,z.error)}else{B.suggestions=u.defaultSearchEngine(C,A)}if(g.is(C.filterEngine,"function")){B.suggestions=C.filterEngine.call(u,C,B.suggestions)}C.dataCache[A]=B.suggestions}}}if(B.suggestions&&B.suggestions.length){B=g.merge(B,C);B.id=C.id;r.push(B)}});if(t){if(g.is(this.options.filterEngine,"function")){r=this.options.filterEngine.call(u,r)}this.dispatchEvent("onUpdateSuggests",[r,x])}},_shouldDropUp:function(t){var v=t||(this.getContent().getOffsets().y+this.elements.inputContainer.getDimensions().height),r=this.elements.suggestsContainer.getSize().height,s=document.documentElement.clientHeight||window.innerHeight,u=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;return(v+r>s+u)},_shouldDropLeft:function(t){var u=t,s=this.elements.suggestsContainer.getSize().width,r=window.innerWidth||document.documentElement.clientWidth,v=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft;return(u+s>r+v)},_updateSuggestsPosition:function(){var r=this.elements.container,v=this.elements.suggestsContainer,w=this.options.floatingSuggestions&&this.options.multiSelect,z,u=0,s=0,A=0,t,y,x;if(w){z=(this.innerInputs&&this.innerInputs[this.currentPosition])?this.innerInputs[this.currentPosition]:this.elements.input;u=z?z.getPosition().x:this.elements.input.x||0;s=z?z.getPosition().y:this.elements.input.y||0;A=z&&z.getDimensions().height||0;t=z.getOffsets().y+A+4;this.elements.suggestsContainer.setStyle("top","")}y=this._shouldDropUp(t);if(w){x=this._shouldDropLeft(z.getOffsets().x);if(x){v.setStyle("left",u-((z.getOffsets().x+v.getSize().width)-document.documentElement.clientWidth))}else{v.setStyle("left",u)}if(y){v.setStyle("top",s-v.getDimensions().height-8)}else{v.setStyle("top",s+A+4)}}if(y){r.addClassName("dropup")}else{r.removeClassName("dropup")}},onUpdateSuggests:function(s,w){var t,v=this,x=1,r=0,z=g.createElement("div"),y=this.options.noResultsMessage,u=false;this.elements.suggests.empty();this.currentSuggestions=[];this.keyboardIndex=-1;this.elements.suggestsContainer.setStyle("height",this.SUGGESTIONS_MAX_HEIGHT+"px");if(s.length){this.scroller.scrollTo(0,0);this.elements.suggestsContainer.removeClassName("no-result");s.forEach(function(A){if(A.name&&A.displayName){v._appendDatasetName(A.name,z)}if(Array.isArray(A.suggestions)){v.currentSuggestions=v.currentSuggestions.concat(A.suggestions);A.suggestions.forEach(function(B){if((v.options.maxSuggestsToDisplay<0)||(v.options.maxSuggestsToDisplay>0&&x<=v.options.maxSuggestsToDisplay)){v._appendItem(A,B,z);x++}})}});this.elements.suggests.setHTML(z.getHTML())}else{if(y){t=g.createElement("li",{"class":"message"});t.setHTML(this.options.noResultsMessage);t.inject(this.elements.suggests);this.elements.suggestsContainer.addClassName("no-result")}else{u=true}}this.elements.container.addClassName(this.name+"-suggestsDisplayed");r=this.elements.suggests.offsetHeight;if((r>0)&&(r+20<=this.SUGGESTIONS_MAX_HEIGHT)){this.elements.suggestsContainer.setStyle("height",(r+20)+"px");this.elements.suggestsScroll.setStyle("height",(r+20)+"px")}else{this.elements.suggestsScroll.setStyle("height",this.SUGGESTIONS_MAX_HEIGHT+"px")}this.elements.container.removeClassName(this.name+"-suggestsDisplayed");if(!u&&!w){this.dispatchEvent("onShowSuggests")}else{this.dispatchEvent("onHideSuggests")}},onFocus:function(){var r=this.elements;if(r.input.value===this.options.placeholder){r.input.value=""}this.elements.inputContainer.addClassName("autocomplete-searchbox-focus");if(this.options.showSuggestsOnFocus&&!this.elements.input.value.length){this.showAll()}else{if(this.options.multiSelect&&this.elements.input.value.length&&this.currentSuggestions.length){this.onShowSuggests()}}},onKeyUp:function(v){var w=p.getElement(v),s=j[v.keyCode],r=(s==="up-arrow"),y=(s==="down-arrow"),x=(s==="enter"),u=(s==="escape"),t=(s==="tab");if(!r&&!y&&!x&&!u&&!t){if(w.value.length===0){this.onHideSuggests();this.options.showSuggestsOnFocus&&this.showAll();if(!this.options.multiSelect){this.selectedItems[0]&&this.onUnselect(this.selectedItems[0]);this.elements.container.toggleClassName(this.CLS_FILLED,false)}return}if(w.value.length>0){!this.options.multiSelect&&this.elements.container.toggleClassName(this.CLS_FILLED,true)}if(w.value.length>=this.options.minLengthBeforeSearch){clearTimeout(this.typeTimeout);this.typeTimeout=setTimeout(function(){this.getSuggestions(w.value)}.bind(this),this.options.typeDelayBeforeSearch)}}},onKeyDown:function(){this.used=true;if(this.options.multiSelect&&this.elements.input&&this.elements.input.value){this.elements.input.setStyle("width",Math.max(this.elements.input.value.length,this.elements.input.size)*8+"px")}},onShowSuggests:function(){var r=this.elements.container;this._updateSuggestsPosition();r.addClassName(this.name+"-suggestsDisplayed");this.suggestsDisplayed=true;(this.keyboardIndex<0)&&this._updateKeyboardIndex("down")},onHideSuggests:function(){this.elements.container.removeClassName(this.name+"-suggestsDisplayed");this.suggestsDisplayed=false},onClickOutside:function(){if(this.elements.input.placeholder===""){this.elements.input.placeholder=this.options.placeholder}this.elements.inputContainer.removeClassName("autocomplete-searchbox-focus");this.dispatchEvent("onHideSuggests")},resetInput:function(r){var s;if(r>=0){s=this.innerInputs[r];s&&s.setStyle("width","5px")}else{s=this.elements.input;this.elements.input.placeholder=this.options.placeholder}if(s){s.value=""}!this.options.multiSelect&&this.elements.container.toggleClassName(this.CLS_FILLED,false)},reset:function(r){this.resetInput();this.unselectAll(r);this._updateBadgeFocus(-1)},resetCache:function(){this.datasets.forEach(function(r){r.dataCache={}})},isValid:function(){if(this.options.allowFreeInput){return true}else{if(!this.options.multiSelect){return(!this.selectedItems[0]||this.selectedItems[0]&&this.selectedItems[0].value&&this.elements.input.value===this.selectedItems[0].value)}else{return(!(this.elements.input.value!==""&&this.selectedItems.length===0))}}},isEmpty:function(){if(!this.options.multiSelect){return(!this.elements.input.value||this.elements.input.value==="")}else{return((!this.selectedItems||this.selectedItems.length===0)&&(!this.elements.input.value||this.elements.input.value===""))}},getValue:function(){var s="",r=this;this.selectedItems.forEach(function(t){if(t.value){s=s.concat(t.value+r.options.tokenSeparator)}});return s.substring(0,s.length-1)},getSelection:function(){var u,t=this.options.allowFreeInput,r=this.elements.input.value,s=[];if(!this.options.multiSelect){u=this.selectedItems[0];if(u){if(u.value&&u.value===r){return u}else{if(t){return(r)?(r):("")}else{return""}}}else{if(t){return(r)?(r):("")}else{return""}}}else{s=s.concat(this.selectedItems);if(t){r&&s.push(r)}return(s.length)?(s):("")}},getSelectionByDataset:function(t){var s=this.getDataset(t),r=[];if(!s){return}r=this.selectedItems.filter(function(u){return(u.datasetId===s.id)});return(r.length)?(r):("")},defaultDataParser:function(v){var w,s,u;if(e.isJson(v)){v=e.decode(v);u=true}else{v=e.xmlToJson(v);for(w in v){if(v.hasOwnProperty(w)){v=v[w];break}}}for(w in v){if(v.hasOwnProperty(w)){if(!s){s=w}if(Array.isArray(v[w])){v=v[w];u=true;break}}}if(!u&&s){v=[v[s]]}if(!Array.isArray(v)){var r=[];for(var t in v){if(v.hasOwnProperty(t)){r[t]=v[t]}}v=[];v.push(r)}return Array.isArray(v)?v:[]},getCurrentPosition:function(){return this.currentPosition},getNeighbourBadge:function(u,r){var t=-1,s=(r>=0)?r:this.currentPosition,v=u||"left";if(s>=0){t=(v==="left")?(s-1):(s+1)}else{t=(v==="left")?(this.badges.length-1):-1}return this.badges[t]||null},getNeighbourSelectedItem:function(u,r){var t=-1,s=(r>=0)?r:this.currentPosition,v=u||"left";if(s>=0){t=(v==="left")?(s-1):(s+1)}else{t=(v==="left")?(this.badges.length-1):-1}return this.selectedItems[t]||null},_updateBadgeFocus:function(r,s){this._toggleBadgeSelection(this.currentPosition,false);this.dispatchEvent("onUpdateInputPosition",[r]);!s&&this._toggleBadgeSelection(r,true,s)},_updateInnerInputFocus:function(r,s){var t=this.innerInputs[r];if(t){!s&&this.dispatchEvent("onUpdateInputPosition",[r]);t.focus()}},_toggleBadgeSelection:function(s,r,u){var t=this.badges[s];if(!t){return}if(typeof r==="undefined"){r=true}if(r){!this.options.closableItems&&t.setClosable(true);t.select();t.elements.container.focus();!u&&this.dispatchEvent("onSelectBadge",[this.selectedItems[s],t,this.getBadgePosition(t.elements.container)]);this.currentBadge=t}else{if(this.currentBadge){!this.options.closableItems&&t.setClosable(false);t.select(false);!u&&this.dispatchEvent("onUnselectBadge",[this.selectedItems[s],t,this.getBadgePosition(t.elements.container)]);this.currentBadge=null}}},onUpdateInputPosition:function(r){this.currentPosition=r},_updateKeyboardIndex:function(w){var v=this,z=this.keyboardIndex,s=this.keyboardIndex,t,u,x,r=function(C){var B=C;t=false;if(C===-1&&w!=="reset"){C=0;t=true}else{if(v.currentSuggestions&&w==="down"&&C<v.currentSuggestions.length-1){C=C+1;t=true}else{if(w==="up"&&C>0){C=C-1;t=true}else{if(w==="reset"){v._hoverItem(C,false);C=-1}}}}if(t){x=A(C);if(!x){if(C===v.currentSuggestions.length-1){x=u;C=B}else{return r(C)}}}return C},A=function(B){var C=null;if(v.currentSuggestions){C=v.currentSuggestions[B]}return(C&&(C.disabled||!C.value))?(false):(C)},y=function(J,F){var D=0,K,G,B,H,I,C,E;if(!J||!F){return}C=v.elements.suggestsContainer.getElement("#"+v.CLS_ITEM+"-"+J.id);E=v.elements.suggestsContainer.getElement("#"+v.CLS_ITEM+"-"+F.id);if(!C||!E){return}K=v.elements.suggestsContainer.getDimensions().height;G=C.offsetTop;B=E.offsetTop;H=Math.floor(G/K);I=Math.floor(B/K);if(H+1===I){D=1}else{if(H-1===I){D=2}}return D};u=A(s);if(typeof w==="number"){z=w;x=A(z);if(!x){return}u&&this._hoverItem(u,false);this._hoverItem(x,true)}else{z=r(z);if(t&&z>=0){u&&this._hoverItem(u,false);x&&this._hoverItem(x,true,(z===0)?(3):(y(u,x)))}}this.keyboardIndex=z},_hoverItem:function(u,t,v){var s,r;if(u){r=(t===undefined)?(true):t;s=this.elements.suggestsContainer.getElement("#"+this.CLS_ITEM+"-"+u.id);if(!s){return}if(r){s.addClassName(this.CLS_HOVERED_ITEM);s.focus();if(v===1){this.scroller.scrollToElement(s,"top")}if(v===2){this.scroller.scrollToElement(s,"bottom")}if(v===3){this.scroller.scrollTo(0,0)}}else{s.removeClassName(this.CLS_HOVERED_ITEM)}}},_getActiveItem:function(){var r=this.keyboardIndex;if(r>=0){return this.currentSuggestions[r]}else{return false}},enable:function(){return this.setDisabled(false)},disable:function(){return this.setDisabled()},isDisabled:function(){return this.elements.input.disabled},setDisabled:function(r){var s=this.elements;if(typeof r==="undefined"){r=true}s.input.disabled=r;s.inputContainer.toggleClassName("disabled",r);this.handleEvents();return this},_selectCurrentInput:function(s){var t=s>=0?this.innerInputs[s].value:this.elements.input.value,u,r=this.options.itemMultiSelect===true?true:null;if(!t){return}u=this.getItemByLabel(t);if(!u&&this.suggestsDisplayed&&this.currentSuggestions&&this.currentSuggestions.length===1){u=this.currentSuggestions[0]}if(!u&&this.options.allowFreeInput){u={};u.id=k.getUUID().substr(0,6);u.value=u.label=t}if(!u){return}return this.toggleSelect(u,s,r)},_handleBadgeDeletion:function(t,s){var r=this.badges[t];if(s===this.selectedItems.length){s=-1}if(r&&r.isDisabled()){return}this.dispatchEvent("onUnselect",[this.selectedItems[t],t,s]);if(s===-1){this.elements.input.focus()}},handleEvents:function(){var r=this.options.itemMultiSelect===true?true:null;if(!this.events){this.events={};this.events.input={focus:function(t){var u=p.getElement(t),s=/inner-input/.test(u.className);if(s){this._updateBadgeFocus(this.getBadgePosition(u.nextSibling),true)}else{this._updateBadgeFocus(-1)}if(!/fonticon-cancel/.test(u.className)){this.dispatchEvent("onFocus",[t])}}.bind(this),blur:function(s){this.dispatchEvent("onBlur",[s])}.bind(this),keyup:function(s){this.dispatchEvent("onKeyUp",[s])}.bind(this),keydown:function(s){var E=j[s.keyCode],B=p.getElement(s),A=/inner-input/.test(B.className),y=this.innerInputs[this.currentPosition],w=A&&y&&y.value.length,v=/autocomplete-input/.test(B.className),D=v&&this.elements.input.value.length,x=(E==="up-arrow"),u=(E==="down-arrow"),C=(E==="enter"),t=(E==="tab"),F=(E==="escape");this.dispatchEvent("onKeyDown",[s]);if(x){this._updateKeyboardIndex("up");p.preventDefault(s)}if(u){this._updateKeyboardIndex("down");p.preventDefault(s)}if(C||t){var z=this._getActiveItem(),G=null;if(C&&z&&this.suggestsDisplayed){p.preventDefault(s);G=this.toggleSelect(z,this.currentPosition,r)}else{if(this.options.multiSelect&&(w||D)){G=this._selectCurrentInput(this.currentPosition);(C||G)&&p.preventDefault(s)}}if(A&&G){if(C){(this.innerInputs[this.currentPosition+1]||this.elements.input).focus()}else{this.elements.input.focus()}}}if(t||F){this.dispatchEvent("onHideSuggests")}}.bind(this)};if(c.Engine.firefox){this.events.input.compositionupdate=function(s){this.dispatchEvent("onKeyUp",[s])}.bind(this)}this.events.inputContainer={click:function(w){var y=p.getElement(w),u=/badge/.test(y.className)&&!(/disabled/.test(y.className)||/disabled/.test(y.parentElement.className)),t=/badge-close/.test(y.className)&&!/disabled/.test(y.parentElement.className),s=/inner-input/.test(y.className),v=/fonticon-cancel/.test(y.className),x=/autocomplete-reset/.test(y.className);if(!u&&!s&&!v){this.elements.input.focus()}if(u&&!t){if(y.hasClassName("badge-content")){y=y.getParent()}this._updateBadgeFocus(this.getBadgePosition(y))}if(x&&this.options.multiSelect===false){this.reset(false)}}.bind(this),keydown:function(I){var N=j[I.keyCode],y,t,M=p.getElement(I),G=/badge/.test(M.className),F=G&&/disabled/.test(M.className),E=/inner-input/.test(M.className),D=this.innerInputs[this.currentPosition],w=E&&D&&D.value.length,x=D&&D.value==="",H=/autocomplete-input/.test(M.className),s=H&&this.elements.input.value.length,B=(N==="left-arrow"),C=(N==="right-arrow"),v=(N==="backspace"),A=(N==="del"),u=(N==="tab");if(B){y=-1;t=-1;if(!this.options.multiSelect||!this.selectedItems.length||w||s){return}if(this.currentPosition!=null&&this.currentPosition>=0){if(G){t=this.currentPosition}else{if(x){y=this.currentPosition-1}}}else{if(this.elements.input.value===""){y=this.selectedItems.length-1}}if(y>=0){this._updateBadgeFocus(y)}else{if(t>=0){this._updateInnerInputFocus(t)}}}if(C){y=-1;t=-1;if(!this.options.multiSelect||!this.selectedItems.length||w||s){return}if(this.currentPosition!=null&&this.currentPosition>=0){if(G){t=this.currentPosition+1}else{if(x){y=this.currentPosition}}}if(y>=0&&y<this.selectedItems.length){this._updateBadgeFocus(y)}else{if(t>=0&&t<this.selectedItems.length){this._toggleBadgeSelection(this.currentPosition,false);this._updateInnerInputFocus(t)}else{if(y===this.selectedItems.length||t===this.selectedItems.length){this._updateBadgeFocus(-1);this.elements.input.focus();this.onShowSuggests()}}}}if(v||A){var L,J,K,z;if(!this.options.multiSelect&&!this.options.allowFreeInput){J=this.getItem(M.value);K=M.value.substring(0,M.value.length-1);z=this.getItem(K);if(J&&!z){this.onUnselect(this.selectedItems[0],null,null,false)}}else{if(!this.selectedItems.length||w||s||F){return}if(v&&this.currentPosition<0&&H&&this.elements.input.value===""){L=this.selectedItems.length-1;y=-1}else{if(this.currentPosition>=0){if(v){L=E?this.currentPosition-1:this.currentPosition;y=E?this.currentPosition-2:this.currentPosition-1}else{L=this.currentPosition;y=(L===this.badges.length-1)?-1:L}}}L>=0&&this._handleBadgeDeletion(L,y);p.preventDefault(I)}}if(u&&G){this.elements.input.focus();p.preventDefault(I)}}.bind(this)};this.events.suggestsContainer={mouseover:function(w){var x=p.getElement(w),t=this.getSuggestion(x),z,u,s=-1,y,v;if(!t||!t.id){return}y=t.getElement(".item-label");if(y&&y.offsetWidth<y.scrollWidth){v=y.textContent;v&&y.setAttribute("title",v)}else{y.setAttribute("title","")}z=t.id.replace("autocomplete-item-","");for(u=0;u<this.currentSuggestions.length;u++){if(this.currentSuggestions[u].id===z){s=u;break}}s>-1&&this._updateKeyboardIndex(s)}.bind(this),click:function(u){var v=p.getElement(u),s=this.getSuggestion(v),t;if(!s){return}if(!s.hasClassName(this.CLS_PARENT_ITEM)||(s.hasClassName(this.CLS_PARENT_ITEM)&&s.hasClassName("clickable"))){t=this.getItemFromSuggestion(s);if(!t||t.disabled){return}this.toggleSelect(t,this.currentPosition,r);if(this.options.multiSelect){if(this.currentPosition>-1){(this.innerInputs[this.currentPosition+1]||this.elements.input).focus()}else{this.elements.input.focus()}}}}.bind(this)};this.events.document={click:function(s){if(!p.getElement(s).isInjected(this.elements.container)&&s.target!==this.elements.container.suggestsContainer){this.dispatchEvent("onClickOutside",[s]);this._updateBadgeFocus(-1)}}.bind(this)}}if(this.isDisabled()){l("click",document,this.events.document.click);this.elements.inputContainer.removeEvents(this.events.inputContainer);this.elements.input.removeEvents(this.events.input);this.elements.suggestsContainer.removeEvents(this.events.suggestsContainer)}else{if(this.hasEvent("onClickOutside")){f("click",document,this.events.document.click,true)}this.elements.inputContainer.addEvents(this.events.inputContainer);this.elements.input.addEvents(this.events.input);this.elements.suggestsContainer.addEvents(this.events.suggestsContainer)}}};return i.extend(n)});define("DS/UIKIT/Form",["UWA/Core","UWA/Data","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/Abstract","DS/UIKIT/Input/Text","DS/UIKIT/Input/Password","DS/UIKIT/Input/Button","DS/UIKIT/Input/ButtonGroup","DS/UIKIT/Input/Number","DS/UIKIT/Input/Select","DS/UIKIT/Input/Date","DS/UIKIT/Input/Toggle","DS/UIKIT/Autocomplete","DS/UIKIT/Input/File"],function(h,g,q,t,c,r,s,a,j,p,f,m,d,n,o,e){function l(v){if("createEvent" in document){var u=document.createEvent("HTMLEvents");u.initEvent("change",false,true);v.dispatchEvent(u)}else{v.fireEvent("onchange")}}function k(x){var w,u,v;if(!x){return}x=x.split(" ");for(w=0,u=x.length;w<u;w++){v=x[w].match(/horizontal|inline|vertical$/);if(v&&!v[1]){if(v[0]==="horizontal"){x[w]="form-horizontal"}else{if(v[0]==="inline"){x[w]="form-inline"}else{if(v[0]==="vertical"){x[w]="form-vertical"}}}}}return x.join(" ")}var b={alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/};var i={name:"form",texts:null,booleans:null,lists:null,dates:null,passwords:null,files:null,ranges:null,buttons:null,autocompletes:null,numbers:null,defaultOptions:{className:"form-vertical",fields:[],buttons:[],labelSuffix:"",grid:"2 10",autocomplete:false,method:"POST",encoding:"application/x-www-form-urlencoded"},init:function(u){u=u||{};this.texts=[];this.booleans=[];this.lists=[];this.dates=[];this.passwords=[];this.files=[];this.ranges=[];this.buttons=[];this.autocompletes=[];this.numbers=[];if(u.className){u.className=k(u.className)}this.id=c.getUUID().substring(0,6);this._parent(u);this.buildSkeleton()},buildSkeleton:function(){var A=this,z=this.options.fields,B=this.options.buttons,u=this.fields,v=[],y,w,C=[],x=function(G,E,D){var F;if(G.helperText&&E){F=h.createElement("span",{text:G.helperText,"class":"form-control-helper-text"}).inject(E,D||"after")}if(G.errorText&&E){h.createElement("span",{text:G.errorText,"class":"form-control-error-text"}).inject(D==="bottom"?F:E,D==="bottom"?"before":"after")}};w=h.createElement("form",{attributes:{novalidate:"novalidate",autocomplete:this.options.autocomplete?"on":"off"},"class":this.getClassNames(),events:{submit:function(D){t.stop(D);A.submit.call(A,false)},reset:function(D){t.stop(D);A.reset.call(A)}}});z.forEach(function(F){var E,G,D;if(F.type!=="hidden"){if(u[F.type]===undefined){F.type="text"}if(F.type==="radio"&&F.name){v.some(function(I){var H=I&&I.getElement("input");if(H&&H.type==="radio"&&H.name===F.name){E=I;return true}})}G=u[F.type](F,A,E);if(!E&&G){if(F.label&&F.required){h.createElement("span",{"class":"label-field-required",text:" *"}).inject(G.getElement("label"))}if(F.type==="file"){D=G.getElement(".input-file")}else{if(F.type==="autocomplete"){D=G.getElement(".autocomplete")}else{if(F.type==="radio"){C.push({field:F,helpersBase:G.firstChild})}else{if(F.type==="number"){D=G.getElement(".input-number")}else{D=G&&G.getElement(".form-control")}}}}D&&x(F,D)}if(F.label&&F.className&&F.className.contains("input-sm")){G.getElement("label").addClassName("label-sm")}v.push(G)}});C.forEach(function(D){x(D.field,D.helpersBase,"bottom")});B.sort(function(E,D){if((E.type==="submit"&&D.type!=="submit")||(E.type==="reset"&&!D.type)){return -1}if((E.type!=="submit"&&D.type==="submit")||(D.type==="reset"&&!E.type)){return 1}return 0}).forEach(function(E,D){if(!/submit|reset/.test(E.type)){E.type="button"}if(!D){y=u[E.type](E,A)}else{u[E.type](E,A,y)}});y&&y.addClassName("form-footer");v.push(y);w.addContent(v);this.elements.container=w},getFields:function(v){var u=this.elements.container,w="textarea, input, select";if(v){w+=", button"}return u.getElements(w)},getField:function(v){var x,u,w,y=this.getFields();for(x=0,u=y.length;x<u;x++){w=y[x];if(w.name===v||w.id===v){return w}}},_getInput:function(v,y){var x,u,w;for(x=0,u=y.length;x<u;x++){w=y[x];if(w.getName()===v){return w}}},getListInput:function(u){return this._getInput(u,this.lists)},getTextInput:function(u){return this._getInput(u,this.texts)},getBooleanInput:function(u){return this._getInput(u,this.booleans)},getDateInput:function(u){return this._getInput(u,this.dates)},getPasswordInput:function(u){return this._getInput(u,this.passwords)},getFileInput:function(u){return this._getInput(u,this.files)},getRangeInput:function(u){return this._getInput(u,this.ranges)},getNumberInput:function(u){return this._getInput(u,this.numbers)},getButtonInput:function(u){return this._getInput(u,this.buttons)},getAutocompleteInput:function(u){return this._getInput(u,this.autocompletes)},getInput:function(u){return this._getInput(u,this.getAllInputInstances())},unvalidate:function(){this.getContent().getElements(".has-error").forEach(function(u){u.removeClassName("has-error")});return this},validate:function(w,z){var v=[],u=this.getFields(),y,A,x=this;this.unvalidate();u.forEach(function(C){switch(C.type){case"button":case"submit":break;case"radio":var D,B;if(C.required&&!C.disabled){D=u.filter(function(E){if(E.name===C.name){return true}});if(v.every(function(E){return D.indexOf(E)===-1})){B=D.every(function(E){return !E.checked});if(B){v.push(C)}}}break;case"checkbox":if(C.required&&C.checked===false&&!C.disabled){v.push(C)}break;case"text":case"textarea":case"email":case"url":case"tel":if(C.name&&x.getAutocompleteInput(C.name)){break}y=C.pattern||C.getAttribute("pattern");y=y?y:/text(area)?/.test(C.type)?false:C.type;if(C.required&&C.value===""&&!C.disabled){v.push(C)}else{if(y&&!C.disabled){if(y==="tel"){y="alpha_numeric"}if(b.hasOwnProperty(y)&&y.length>0){y=b[y]}else{if(y.length>0){y=new RegExp(y)}}if(h.is(y,"regexp")&&C.value.length>0&&!y.test(C.value)){v.push(C)}}}break;default:if(C.required&&C.value===""&&!C.disabled){v.push(C)}break}});this.autocompletes.forEach(function(B){A=x.getField(B.getId());if(A.required&&!A.disabled){if(B.isEmpty()||!B.isValid()){v.push(A)}}else{if(!B.isValid()){v.push(A)}}});if(w!==true&&v.length>0){v.forEach(function(B){B.getParent(".form-group").addClassName("has-error")});!z&&v[0].focus()}this.dispatchEvent(v.length===0?"onValid":"onInvalid");return v.length===0},submit:function(w){var u=this.options,v;if(u.novalidate||(!u.novalidate&&this.validate())||w){this.dispatchEvent("onSubmit",this.getValues());if(u.url){this.getContent().setAttributes({method:u.method,action:u.url,target:"form_transfer_"+this.id,enctype:u.encoding});v=h.createElement("iframe",{name:"form_transfer_"+this.id,src:"javascript:false;",attributes:{tabindex:-1,frameborder:0},styles:{visibility:"hidden",width:0,height:0,border:0}}).inject(document.body);v.onload=function(){v.parentNode.removeChild(v)};this.autocompletes.forEach(function(x){if(x.options&&x.options.multiSelect===true){x.elements.input.value=x.getValue()}});this.getContent().submit();this.autocompletes.forEach(function(x){if(x.options&&x.options.multiSelect===true){x.elements.input.value=""}})}}return this},getAllInputInstances:function(){return[].concat(this.texts,this.booleans,this.lists,this.dates,this.passwords,this.files,this.ranges,this.buttons,this.autocompletes)},setDisabled:function(u){if(typeof u==="undefined"){u=true}this.getAllInputInstances().forEach(function(v){v.setDisabled(u)});return this},enable:function(){return this.setDisabled(false)},disable:function(){return this.setDisabled()},reset:function(){var u=this.getValues();Object.keys(u).forEach(function(v){u[v]=""});this.autocompletes.forEach(function(v){v.reset()});this.setValues(u);this.dispatchEvent("onReset");return this},getValues:function(){var x,u,w,v={},y=Array.prototype,z=this.getFields();for(x=0,u=z.length;x<u;x++){w=z[x];switch(w.type){case"button":case"submit":break;case"password":if(w.value!==""){v[w.name]=w.value}break;case"checkbox":v[w.name]=(!!w.checked);if(typeof w.value==="string"){v[w.name]=String(v[w.name])}break;case"radio":if(w.checked){v[w.name]=w.value}break;case"select-multiple":v[w.name]=y.filter.call(w.getElementsByTagName("*"),function(A){if(A.selected&&A.getTagName()!=="optgroup"&&A.value){return true}}).reduce(function(A,B){return(A?A+",":A)+B.value},"")||"";break;default:if(h.is(w.name)&&w.name.length){v[w.name]=w.value}break}}this.autocompletes.forEach(function(A){if(h.is(A.elements.input.name)&&A.elements.input.name.length){v[A.elements.input.name]=A.getValue()}});this.files.forEach(function(A){if(h.is(A.elements.input.name)&&A.elements.input.name.length){v[A.elements.input.name]=A.getValue()}});return v},getValue:function(u){return this.getValues()[u]},setValues:function(v){var x,u,w,z,y=this.getFields();for(x=0,u=y.length;x<u;x++){w=y[x];if(v.hasOwnProperty(w.name)){z=v[w.name];switch(w.type){case"password":case"button":case"reset":case"submit":break;case"checkbox":w.checked=(!!z);l(w);break;case"radio":if(w.checked&&String(w.value)===z){w.checked=(!!z);l(w)}break;default:w.value=z;l(w);break}}}return this},setValue:function(v,w){var u={};u[v]=w;return this.setValues(u)},createField:function(w,x,z,y){var u,v;if(this.options.className.indexOf("form-horizontal")>-1&&this.options.grid){v=this.options.grid.split(" ");if(!v||v.length<2){v=[2,10]}if(y){w.inject(y.getChildren()[0])}else{if(x){x.addClassName("col-sm-"+v[0]+" control-label");u=h.createElement("div",{"class":"form-group",html:[x,{tag:"div","class":"col-sm-"+v[1],html:w}]})}else{u=h.createElement("div",{"class":"form-group",html:{tag:"div","class":"col-sm-offset-"+v[0]+" col-sm-"+v[1],html:w}})}}}else{if(this.options.className.indexOf("form-inline")>-1){if(y){w.inject(y)}else{if(!x){u=h.createElement("div",{"class":"form-group",html:w})}else{x.addClassName("sr-only");u=h.createElement("div",{"class":"form-group",html:[x,w]})}}}else{if(y){w.inject(y)}else{if(!x){u=h.createElement("div",{"class":"form-group",html:w})}else{u=h.createElement("div",{"class":"form-group",html:[x,w]})}}}}if(z){u.hide()}return u},setClassName:function(u){this.options.className=k(u);this.getContent().className=this.getClassNames();return this},fields:{text:function(x,z){var v,w,y=z,u={attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off"},id:"input-"+c.getUUID().substring(0,6)};v=new s(h.extend(x,u,true));z.texts.push(v);v.addEvent("onChange",function(){y.dispatchEvent("onChange",[this.getName(),this.getValue(),x.onchange])});if(h.is(x.label)){w=h.createElement("label",{"for":v.getId(),text:h.i18n(x.label+y.options.labelSuffix)})}return y.createField.call(y,v,w)},textarea:function(u,v){return this.text(h.merge(u,{multiline:true}),v)},password:function(x,z){var v,w,y=z,u={attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off"},id:"input-"+c.getUUID().substring(0,6)};v=new a(h.extend(x,u,true));z.passwords.push(v);v.addEvent("onChange",function(){y.dispatchEvent("onChange",[this.getName(),this.getValue(),x.onchange])});if(h.is(x.label)||h.is(x.name)){w=h.createElement("label",{"for":v.getId(),text:h.i18n((x.label||x.name)+y.options.labelSuffix)})}return y.createField.call(y,v,w)},file:function(y,A){var w,x,z=A,u,v={id:"input-"+c.getUUID().substring(0,6)};w=new e(h.extend(y,v,true));A.files.push(w);w.addEvent("onChange",function(){z.dispatchEvent("onChange",[this.getName(),this.getValue(),y.onchange])});if(h.is(y.label)||h.is(y.name)){x=h.createElement("label",{"for":w.getId(),text:h.i18n((y.label||y.name)+z.options.labelSuffix)})}u=z.createField.call(z,w,x);w.elements.textfield.onfocus=function(){u.toggleClassName("focused",true)};w.elements.textfield.onblur=function(){u.toggleClassName("focused",false)};return u},autocomplete:function(y,A){var w,x,z=A,u,v={attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off"},id:"input-"+c.getUUID().substring(0,6)};w=new o(h.extend(y,v,true));w.setId(c.getUUID().substr(0,6));A.autocompletes.push(w);w.addEvent("onChange",function(){z.dispatchEvent("onChange",[this.getName(),this.getValue(),y.onchange])});if(h.is(y.label)||h.is(y.name)){x=h.createElement("label",{"for":w.getId(),text:h.i18n((y.label||y.name)+z.options.labelSuffix)})}u=z.createField.call(z,w,x);w.addEvent("onFocus",function(){u.toggleClassName("focused",true)});w.addEvent("onBlur",function(){u.toggleClassName("focused",false)});return u},list:function(x,A){var v,w,z=A,y=false,u={id:"input-"+c.getUUID().substring(0,6),placeholder:false,multiple:false,nativeSelect:false};v=new m(h.merge(x,u));A.lists.push(v);v.addEvent("onChange",function(){z.dispatchEvent("onChange",[this.getName(),this.getValue()[0],x.onchange])});if(h.is(x.label)||h.is(x.name)){w=h.createElement("label",{"for":v.getId(),text:h.i18n((x.label||x.name)+z.options.labelSuffix)})}if(v.getOptions().length===0){y=true}return z.createField.call(z,v,w,y)},select:function(u,v){return this.list(u,v)},range:function(x,A){var v,w,z=A,y=false,u={id:"input-"+c.getUUID().substring(0,6),placeholder:false};v=new f(h.merge(x,u));A.ranges.push(v);v.addEvent("onChange",function(){z.dispatchEvent("onChange",[this.getName(),this.getValue(),x.onchange])});if(h.is(x.label)){w=h.createElement("label",{"for":v.getId(),text:h.i18n((x.label||x.name)+z.options.labelSuffix)})}return z.createField.call(z,v,w,y)},number:function(y,B){var w,x,A=B,u,z=false,v={id:"input-"+c.getUUID().substring(0,6),placeholder:false};w=new f(h.merge(y,v));B.numbers.push(w);w.addEvent("onChange",function(){A.dispatchEvent("onChange",[this.getName(),this.getValue(),y.onchange])});if(h.is(y.label)){x=h.createElement("label",{"for":w.getId(),text:h.i18n((y.label||y.name)+A.options.labelSuffix)})}u=A.createField.call(A,w,x,z);w.elements.input.onfocus=function(){u.toggleClassName("focused",true)};w.elements.input.onblur=function(){u.toggleClassName("focused",false)};return u},"boolean":function(w,z,x){var v,y=z,u={id:"input-"+c.getUUID().substring(0,6),type:"checkbox",className:"primary"};if(!h.is(w.checked)&&h.is(w.value)){w.checked=w.value==="true"||w.value===true}v=new n(h.merge(w,u));z.booleans.push(v);v.addEvent("onChange",function(){y.dispatchEvent("onChange",[this.getName(),this.isChecked(),w.onchange])});return y.createField.call(y,v,false,false,x)},radio:function(u,w,v){return this["boolean"](h.extend(u,{type:"radio"}),w,v)},checkbox:function(u,v){return this["boolean"](h.extend(u,{type:"checkbox"}),v)},submit:function(w,z,x){var v,y=z,u={id:"input-"+c.getUUID().substring(0,6),value:"Submit",className:"primary",attributes:{type:"submit"}};if(w.action){w.events=w.events||{};w.events.onClick=w.action}v=new j(h.merge(w,u));z.buttons.push(v);return y.createField.call(y,v,false,false,x)},reset:function(w,z,x){var v,y=z,u={id:"input-"+c.getUUID().substring(0,6),value:"Reset",attributes:{type:"reset"}};if(w.action){w.events=w.events||{};w.events.onClick=w.action}v=new j(h.merge(w,u));z.buttons.push(v);return y.createField.call(y,v,false,false,x)},button:function(w,z,x){var v,y=z,u={id:"input-"+c.getUUID().substring(0,6)};if(w.action){w.events=w.events||{};w.events.onClick=w.action}v=new j(h.merge(w,u));z.buttons.push(v);return y.createField.call(y,v,false,false,x)},html:function(u){return h.createElement("div",{"class":"form-group",html:u.html})},help:function(u){return h.createElement("span",{"class":"help-block",text:u.text})},date:function(x,z){var v,w,y=z,u={attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off"},id:"input-"+c.getUUID().substring(0,6)};v=new d(h.extend(x,u,true));z.dates.push(v);v.addEvent("onChange",function(){y.dispatchEvent("onChange",[this.getName(),this.getValue(),x.onchange])});if(h.is(x.label)){w=h.createElement("label",{"for":v.getId(),text:h.i18n(x.label+y.options.labelSuffix)})}return y.createField.call(y,v,w)},email:function(u,v){return this.text(h.merge(u,{attributes:{type:"email"}}),v)},tel:function(u,v){return this.text(h.merge(u,{attributes:{type:"tel"}}),v)},url:function(u,v){return this.text(h.merge(u,{attributes:{type:"url"}}),v)}}};return r.extend(i)});define("DS/UIKIT/SuperModal",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils/Client","UWA/Controls/Abstract","DS/UIKIT/Modal","DS/UIKIT/Input/Button","DS/UIKIT/Input/Text","DS/UIKIT/Form","i18n!DS/UIKIT/assets/nls/UIKIT"],function(e,b,j,c,g,i,h,d,f,k){var a={defaultOptions:{className:"",animate:false,closable:true,overlay:true,okButtonText:k.ok,koButtonText:k.ko},modals:{current:null,queue:[]},init:function(l){this._parent(l)},alert:function(){var n=arguments,r=n[0],q=n[1],s=n[2],l=n[3],p,o,m=e.merge({visible:false},this.options);if(e.is(n[0],"object")){r=n[0].message;q=n[0].title;s=n[0].callback;l=n[0].okButtonText}m.closable=this.options.closable!==false;m.events={onHide:function(){if(e.is(s,"function")){s()}},onShow:function(){o.focus()}};p=this.modalFactory(m);if(e.is(r,"string")){p.elements.body.addContent({tag:"p",text:r})}if(e.is(q,"string")){p.setHeader({tag:"h4",text:q})}else{p.getHeader().hide();if(!s){s=q}}if(!e.is(s,"function")&&this.options.callback){s=this.options.callback}o=new h({value:l||m.okButtonText,className:"primary",events:{onClick:function(){p.hide()}}});p.setFooter(o);p.dispatchEvent("onShowModal")},confirm:function(){var o=arguments,m=o[0],q=o[1],s=o[2],u=o[3],n=o[4],r,p=[],t=e.merge({visible:false},this.options);function l(v){return function(){r.preventEvent=true;r.hide();if(e.is(s,"function")){s(v)}}}if(e.is(o[0],"object")){m=o[0].message;q=o[0].title;s=o[0].callback;u=o[0].okButtonText;n=o[0].koButtonText}t.closable=this.options.closable!==false;t.events={onHide:function(){if(!r.preventEvent&&e.is(s,"function")){s()}},onShow:function(){p[0].focus()}};r=this.modalFactory(t);if(e.is(m,"string")){r.elements.body.addContent({tag:"p",text:m})}if(e.is(q,"string")){r.setHeader({tag:"h4",text:q})}else{r.getHeader().hide();if(!s){s=q}}if(!e.is(s,"function")&&this.options.callback){s=this.options.callback}p.push(new h({value:u||t.okButtonText,className:"primary"}));p[0].addEvent("onClick",l(true));p.push(new h({value:n||t.koButtonText}));p[1].addEvent("onClick",l(false));r.setFooter(p);r.dispatchEvent("onShowModal")},prompt:function(){var r=arguments,o=r[0],t=r[1],x=r[2],z=r[3],p=r[4],v=r[5],q=r[6],u=r[7],n=Math.max(0,r[8])||false,w,s=[],y=e.merge({visible:false},this.options),m;function l(A){return function(){if(A){A=w.getContent().getElement("input").value}w.preventEvent=true;w.hide();if(e.is(x,"function")){x(A)}}}y.closable=this.options.closable!==false;if(e.is(r[0],"object")){o=r[0].message;t=r[0].title;x=r[0].callback;z=r[0].okButtonText;p=r[0].koButtonText;v=r[0].placeholder;q=r[0].required;u=r[0].value;n=Math.max(0,r[0].maxlength)||false}y.events={onHide:function(){if(!w.preventEvent&&e.is(x,"function")){x()}},onShow:function(){m.getField("input-confirm").focus()}};w=this.modalFactory(y);m=new f({fields:[{type:"text",required:q===true,value:u||"",placeholder:v||y.placeholder||k.response,name:"input-confirm",maxlength:n}],events:{onSubmit:l(true)}});if(e.is(o,"string")){w.elements.body.addContent({tag:"p",text:o},m)}else{w.elements.body.addContent(o,m)}if(e.is(t,"string")){w.setHeader({tag:"h4",text:t})}else{w.getHeader().hide();if(!x){x=t}}if(!e.is(x,"function")&&this.options.callback){x=this.options.callback}s.push(new h({value:z||y.okButtonText,className:"primary"}));s[0].addEvent("onClick",function(){m.submit()});s.push(new h({value:p||y.koButtonText}));s[1].addEvent("onClick",l(false));w.setFooter(s);w.dispatchEvent("onShowModal")},dialog:function(l){var p=e.merge({visible:false},this.options),o,n;p.closable=this.options.closable!==false;p.events={onHide:function(){},onShow:function(){}};o=this.modalFactory(p);function m(q){return function(){if(e.is(q,"function")){q(o)}}}if(e.is(l.title,"string")){o.setHeader({tag:"h4",text:l.title})}else{o.getHeader().hide()}if(l.body){o.elements.body.addContent(l.body)}if(l.buttons&&l.buttons.length>0){n=l.buttons.map(function(q){return new h(e.extend(q,{events:{onClick:m(q.action)}}))});n=n.sort(function(s,q){function r(t){return t.getContent().hasClassName("btn-primary")}if(r(s)&&!r(q)){return -1}if(!r(s)&&r(q)){return 1}return 0});o.addEvent("onShow",function(){n[0].focus()});o.setFooter(n)}else{if(p.closable){o.addEvent("onShow",function(){o.elements.close.focus()})}else{o.addEvent("onShow",function(){o.elements.content.setAttribute("tabindex","0");o.elements.content.focus()})}}o.dispatchEvent("onShowModal")},next:function(){if(this.modals.current){this.modals.current.hide()}},modalFactory:function(l){var n,m=this;n=new i(l);n.addEvents({onShowModal:function(){if(!m.modals.current){m.modals.current=this;m.lastFocus=document.activeElement;this.show()}else{m.modals.queue.push(this)}},onShow:function(){m.dispatchEvent("onShow")},onHide:function(){var o=m.modals.queue,p;m.dispatchEvent("onHide");this.destroy();if(o&&o.length>0){p=o.splice(0,1)[0];if(p.elements){p.show();m.modals.current=p}}else{m.modals.current=null;if(m.lastFocus&&e.is(m.lastFocus.focus,"function")){m.lastFocus.focus()}}}});n.inject(l.renderTo||document.body);return n}};return g.extend(a)});